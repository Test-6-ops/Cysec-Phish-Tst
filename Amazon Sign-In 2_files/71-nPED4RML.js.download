/*
 regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE  js-cookie v3.0.5 | MIT */
(function(L){var x=window.AmazonUIPageJS||window.P,q=x._namespace||x.attributeErrors,I=q?q("IdentityWebAuthnAssets",""):x;I.guardFatal?I.guardFatal(L)(I,window):I.execute(function(){L(I,window)})})(function(L,x,q){var I=function(){return function(r,x){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r)){var K=[],I=!0,b=!1,c=q;try{for(var a=r[Symbol.iterator](),f;!(I=(f=a.next()).done)&&(K.push(f.value),!x||K.length!==x);I=!0);}catch(k){b=!0,c=k}finally{try{if(!I&&a["return"])a["return"]()}finally{if(b)throw c;
}}return K}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"===typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},ja;(function(){function K(b){var c=ha[b];if(c!==q)return c.exports;c=ha[b]={exports:{}};L[b](c,c.exports,K);return c.exports}var L={6957:function(b,c,a){function f(e){"@babel/helpers - typeof";return f=
"function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(e){return"undefined"===typeof e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"===typeof e?"undefined":r(e)},f(e)}function k(e){return e&&e.__esModule?e:{"default":e}}function n(e){if("function"!==typeof WeakMap)return null;var m=new WeakMap,a=new WeakMap;return(n=function(e){return e?a:m})(e)}function l(e,m){if(!m&&e&&e.__esModule)return e;if(null===
e||"object"!==f(e)&&"function"!==typeof e)return{"default":e};if((m=n(m))&&m.has(e))return m.get(e);var a={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor,b;for(b in e)if("default"!==b&&Object.prototype.hasOwnProperty.call(e,b)){var c=d?Object.getOwnPropertyDescriptor(e,b):null;c&&(c.get||c.set)?Object.defineProperty(a,b,c):a[b]=e[b]}a["default"]=e;m&&m.set(e,a);return a}Object.defineProperty(c,"__esModule",{value:!0});Object.defineProperty(c,"AmazonDomainHelper",{enumerable:!0,get:function(){return t["default"]}});
Object.defineProperty(c,"CSMMetricsPublisher",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty(c,"CookieHelper",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(c,"EmailUtil",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(c,"IdentityKatalMetricsPublisher",{enumerable:!0,get:function(){return h["default"]}});Object.defineProperty(c,"MetricsOption",{enumerable:!0,get:function(){return h.MetricsOption}});Object.defineProperty(c,
"Platform",{enumerable:!0,get:function(){return p.Platform}});Object.defineProperty(c,"PlatformDetector",{enumerable:!0,get:function(){return p["default"]}});Object.defineProperty(c,"SigninAutomationHelper",{enumerable:!0,get:function(){return e.SigninAutomationHelper}});Object.defineProperty(c,"generateUUID",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty(c,"getSanitizedClientNameByPath",{enumerable:!0,get:function(){return u["default"]}});var h=l(a(660)),p=l(a(4560)),
d=k(a(9606)),v=k(a(5903)),t=k(a(1472)),u=k(a(456)),y=k(a(5132)),m=k(a(5978)),e=a(4650)},5978:function(b,c,a){function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function k(a,b,c){b&&f(a.prototype,b);c&&f(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var n=function(a){return a&&a.__esModule?a:{"default":a}}(a(9840));
b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.logger=new n["default"]}k(a,[{key:"publishCounter",value:function(a,b){if(x.ue&&x.ue.count)try{x.ue.count(a,b||1)}catch(d){this.logger.debug("exception when csm.logCount() "+d)}else this.logger.debug("ue.count not found")}},{key:"startTimer",value:function(a){this.addBodyBeginMarkerForFeature(a)}},{key:"stopTimerAndReport",value:function(a){this.addCriticalFeatureMarkerForFeature(a);this.addLoadMarkerForFeature(a)}},
{key:"addBodyBeginMarkerForFeature",value:function(a){if("function"==typeof x.uet)try{x.uet("bb",a,{wb:1})}catch(p){this.logger.debug("exception when start timer and add body begin marker "+p)}else this.logger.debug("window.uet not found")}},{key:"addCriticalFeatureMarkerForFeature",value:function(a){if("function"==typeof x.uet)try{x.uet("cf",a,{wb:1})}catch(p){this.logger.debug("exception when stop timer and add critical feature marker "+p)}else this.logger.debug("window.uet not found")}},{key:"addLoadMarkerForFeature",
value:function(a){if("function"==typeof x.uex)try{x.uex("ld",a,{wb:1})}catch(p){this.logger.debug("exception when stop timer and add load marker "+p)}else this.logger.debug("window.uex not found")}}]);return a}();c["default"]=b},660:function(b,c,a){function f(m){"@babel/helpers - typeof";return f="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(e){return"undefined"===typeof e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?
"symbol":"undefined"===typeof e?"undefined":r(e)},f(m)}function k(m){return m&&m.__esModule?m:{"default":m}}function n(m){if("function"!==typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(n=function(m){return m?a:e})(m)}function l(m,e){for(var a=0;a<e.length;a++){var b=e[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(m,b.key,b)}}function h(a,e,b){e&&l(a.prototype,e);b&&l(a,b);Object.defineProperty(a,"prototype",{writable:!1});
return a}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var p=function(a,e){if(!e&&a&&a.__esModule)return a;if(null===a||"object"!==f(a)&&"function"!==typeof a)return{"default":a};if((e=n(e))&&e.has(a))return e.get(a);var m={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in a)if("default"!==d&&Object.prototype.hasOwnProperty.call(a,d)){var c=b?Object.getOwnPropertyDescriptor(a,d):null;c&&(c.get||c.set)?Object.defineProperty(m,d,c):m[d]=a[d]}m["default"]=a;
e&&e.set(a,m);return m}(a(5989)),d=k(a(8277)),v=k(a(1472)),t=k(a(4560)),u=k(a(5903)),y=k(a(9840));b=function(){function a(e,m,b,c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.cookieHelper=new u["default"];this.platformDetector=new t["default"];this.timerMap=new Map;this.logger=new y["default"];this.siteName=e;this.serviceName=m;this.methodName=b;var z=x.location.hostname;a.AMAZON_DOMAIN_HELPER=new v["default"];var l=a.getDataSet(z);z=a.AMAZON_DOMAIN_HELPER.getMarketplaceRealm(z);
e=(new p.Context.Builder).withSite(e).withServiceName(m);c&&(e.withActionId(c),this.actionId=c);(c=this.cookieHelper.getCookieValue("session-id"))&&e.withRelatedMetrics(new p.Metric.String("session-id",c));c=e.build();e=e.withRelatedMetrics().build();m=function(e){console.error("Unable to publish metrics",e)};l=(new d["default"].Builder).withDomainRealm(l,z).withErrorHandler(m).withSushiClientOptions({hiPriFlushInterval:8,lowPriFlushInterval:13}).build();this.childMetricsPublisher=(new p.Publisher(l,
m,c)).newChildActionPublisherForMethod(b,e)}h(a,[{key:"startTimer",value:function(e){var a=Date.now();this.timerMap.set(e,a)}},{key:"stopTimerAndReport",value:function(e){var a=Date.now(),m=this.timerMap.get(e);"undefined"===typeof m?this.logger.debug("".concat(e," was not started. Do nothing")):this.publishTimer(e,a-m)}},{key:"attachDimensions",value:function(e,a){var m={};a&&"undefined"!==typeof a.os&&(m.os=a.os);a&&"undefined"!==typeof a.browser&&(m.browser=a.browser);a&&"undefined"!==typeof a.consentui&&
(m.consentui=a.consentui);a&&"undefined"!==typeof a.pb&&(m.pb=a.pb);e="".concat(e);for(var b in m)e="".concat(e,":").concat(b,"@").concat(m[b]);return e}},{key:"sanitizeMetricsKey",value:function(e){return e.replace(":","_")}},{key:"publishCounter",value:function(e,a){var m=2<arguments.length&&arguments[2]!==q?arguments[2]:{metricsDimension:{os:this.platformDetector.getOSName(),browser:this.platformDetector.getBrowserName()}},b=this.sanitizeMetricsKey(e);b=this.attachDimensions(b,m.metricsDimension);
this.childMetricsPublisher.publishCounterMonitor(b,a||1)}},{key:"publishString",value:function(e,a){this.childMetricsPublisher.publishString(e,a)}},{key:"publishStringTruncate",value:function(e,a){this.childMetricsPublisher.publishStringTruncate(e,a)}},{key:"publishCounterOnce",value:function(e){this.publishCounter(e,1,1<arguments.length&&arguments[1]!==q?arguments[1]:{})}},{key:"publishTimer",value:function(e,a){var m=2<arguments.length&&arguments[2]!==q?arguments[2]:{metricsDimension:{os:this.platformDetector.getOSName(),
browser:this.platformDetector.getBrowserName()}},b=this.sanitizeMetricsKey(e);b=this.attachDimensions(b,m.metricsDimension);this.childMetricsPublisher.publishTimerMonitor(b,a)}},{key:"getActionId",value:function(){return this.actionId}},{key:"getSiteName",value:function(){return this.siteName}},{key:"getServiceName",value:function(){return this.serviceName}},{key:"getMethodName",value:function(){return this.methodName}}],[{key:"getDataSet",value:function(e){return a.AMAZON_DOMAIN_HELPER.isAmazonProdDomain(e)?
"prod":"test"}}]);return a}();c["default"]=b;(function(a,e,b){e in a?Object.defineProperty(a,e,{value:b,enumerable:!0,configurable:!0,writable:!0}):a[e]=b;return a})(b,"AMAZON_DOMAIN_HELPER",new v["default"])},456:function(b,c){Object.defineProperty(c,"__esModule",{value:!0});c["default"]=function(){var b=a.find(function(a){return x.location.pathname.startsWith(a)});b||(b=x.location.pathname.split("/"),b=b.slice(0,3<=b.length?3:b.length).join("/"));return b.replace(/\//g,"_")};var a=["/ap/signin",
"/ap/cnep","/ax/claim/webauthn/nudge","/ax/claim/webauthn/enroll","/ax/account/manage"]},1472:function(b,c){function a(a,b){var d="undefined"!==typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!d){if(Array.isArray(a)||(d=f(a))||b&&a&&"number"===typeof a.length){d&&(a=d);var c=0;b=function(){};return{s:b,n:function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}},e:function(e){throw e;},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var l=!0,y=!1,m;return{s:function(){d=d.call(a)},n:function(){var e=d.next();l=e.done;return e},e:function(e){y=!0;m=e},f:function(){try{if(!l&&null!=d["return"])d["return"]()}finally{if(y)throw m;}}}}function f(a,b){if(a){if("string"===typeof a)return k(a,b);var d=Object.prototype.toString.call(a).slice(8,-1);"Object"===d&&a.constructor&&(d=a.constructor.name);if("Map"===d||"Set"===d)return Array.from(a);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return k(a,b)}}function k(a,
b){if(null==b||b>a.length)b=a.length;for(var d=0,c=Array(b);d<b;d++)c[d]=a[d];return c}function n(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}function l(a,b,c){b&&n(a.prototype,b);c&&n(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function h(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}Object.defineProperty(c,
"__esModule",{value:!0});c["default"]=void 0;b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");}l(b,[{key:"isAmazonDomain",value:function(a){return b.AMAZON_ENDPOINT_REGEX.test(a)}},{key:"isDevoDomain",value:function(a){return b.DEVO_ENDPOINT_REGEX.test(a)}},{key:"isAmazonProdDomain",value:function(a){return this.isAmazonDomain(a)&&!this.isDevoDomain(a)}},{key:"getMarketplaceDomain",value:function(a){return a&&(a=RegExp(b.AMAZON_ENDPOINT_REGEX).exec(a))?
(a=a[0],a.startsWith(".")?a.substring(1):a):"unknown"}},{key:"getMarketplaceRealm",value:function(a){a=this.getMarketplaceDomain(a);return(a=b.DOMAIN_REALM_MAPPING[a])?a:b.NA_AMAZON_REALM}},{key:"encodeUrl",value:function(b){try{if(!b)return null;var c=new URL(b);b="";var d=a(c.searchParams),l;try{for(d.s();!(l=d.n()).done;){var y=l.value;b="".concat(0===b.length?"":b+"\x26").concat(y[0],"\x3d").concat(encodeURIComponent(y[1]))}}catch(m){d.e(m)}finally{d.f()}return c.protocol+"//"+c.host+("/"===c.pathname?
"":c.pathname)+(0<b.length?"?"+b:"")+(c.hash?c.hash:"")}catch(m){return console.error(m),null}}}]);return b}();c["default"]=b;h(b,"NA_AMAZON_REALM","NAAmazon");h(b,"EU_AMAZON_REALM","EUAmazon");h(b,"FE_AMAZON_REALM","FEAmazon");h(b,"CN_AMAZON_REALM","CNAmazon");h(b,"AMAZON_ENDPOINT_REGEX",/(^|\.)amazon\.((ae|ca|cn|com|de|eg|es|eu|fr|in|it|nl|pl|sa|se|sg|cl|ie|co\.(jp|uk|za))|com\.(au|br|mx|sg|tr|co|ng|be))$/);h(b,"US_AMAZON_DOMAIN","amazon.com");h(b,"DEVO_ENDPOINT_REGEX",/(localhost)|(\.integ\.)|([-]*development\.)|(dev-dsk-)|(\.corp\.)/);
h(b,"DOMAIN_REALM_MAPPING",{"amazon.com":b.NA_AMAZON_REALM,"amazon.ca":b.NA_AMAZON_REALM,"amazon.com.br":b.NA_AMAZON_REALM,"amazon.com.co":b.NA_AMAZON_REALM,"amazon.com.mx":b.NA_AMAZON_REALM,"amazon.ae":b.EU_AMAZON_REALM,"amazon.com.be":b.EU_AMAZON_REALM,"amazon.co.uk":b.EU_AMAZON_REALM,"amazon.com.tr":b.EU_AMAZON_REALM,"amazon.de":b.EU_AMAZON_REALM,"amazon.eg":b.EU_AMAZON_REALM,"amazon.es":b.EU_AMAZON_REALM,"amazon.eu":b.EU_AMAZON_REALM,"amazon.fr":b.EU_AMAZON_REALM,"amazon.in":b.EU_AMAZON_REALM,
"amazon.it":b.EU_AMAZON_REALM,"amazon.nl":b.EU_AMAZON_REALM,"amazon.pl":b.EU_AMAZON_REALM,"amazon.sa":b.EU_AMAZON_REALM,"amazon.se":b.EU_AMAZON_REALM,"amazon.ie":b.EU_AMAZON_REALM,"amazon.cn":b.CN_AMAZON_REALM,"amazon.co.jp":b.FE_AMAZON_REALM,"amazon.com.au":b.FE_AMAZON_REALM,"amazon.sg":b.FE_AMAZON_REALM})},5903:function(b,c){function a(a,b){for(var c=0;c<b.length;c++){var h=b[c];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(a,h.key,h)}}function f(b,
c,l){c&&a(b.prototype,c);l&&a(b,l);Object.defineProperty(b,"prototype",{writable:!1});return b}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}f(a,[{key:"getCookieValue",value:function(a){var b,c;return 0<(null===(b=x.document)||void 0===b?void 0:null===(c=b.cookie)||void 0===c?void 0:c.length)&&a&&(b=x.document.cookie.indexOf(a+"\x3d"),-1<b)?(b=b+a.length+1,a=x.document.cookie.indexOf(";",
b),-1===a&&(a=x.document.cookie.length),decodeURIComponent(x.document.cookie.substring(b,a))):""}}]);return a}();c["default"]=b},5132:function(b,c){function a(a,b){for(var c=0;c<b.length;c++){var h=b[c];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(a,h.key,h)}}function f(b,c,l){c&&a(b.prototype,c);l&&a(b,l);Object.defineProperty(b,"prototype",{writable:!1});return b}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;b=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");}f(a,[{key:"isEmailValid",value:function(b){if(null==b)return!1;var c=b.indexOf("@");if(c!=b.lastIndexOf("@")||1>c||c==b.length-1)return!1;b=b.substring(c+1);return b.includes(".")&&a.VALID_DOMAIN_REGEX.test(b.toString())?!0:!1}}]);return a}();c["default"]=b;(function(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a})(b,"VALID_DOMAIN_REGEX",/^[a-zA-Z0-9\-\.]+$/)},9840:function(b,
c){function a(a,b){for(var c=0;c<b.length;c++){var h=b[c];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(a,h.key,h)}}function f(b,c,l){c&&a(b.prototype,c);l&&a(b,l);Object.defineProperty(b,"prototype",{writable:!1});return b}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}f(a,[{key:"debug",value:function(a,b){AUI_JS_DEBUG&&
console.log(a,b)}}]);return a}();c["default"]=b},4560:function(b,c,a){function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function k(a,b,c){b&&f(a.prototype,b);c&&f(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function n(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}Object.defineProperty(c,"__esModule",
{value:!0});c["default"]=c.Platform=c.OS=void 0;var l=function(a){return a&&a.__esModule?a:{"default":a}}(a(942)),h;c.Platform=h;(function(a){a.Android_App="android_app";a.iOS_App="ios_app";a.Android_Browser="android_browser";a.iOS_Browser="ios_browser";a.Other="other"})(h||(c.Platform=h={}));var p;c.OS=p;(function(a){a.Android="android";a.iOS="ios";a.Other="other"})(p||(c.OS=p={}));b=function(){function a(){var b;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");n(this,
"platformStrategy",(b={},n(b,p.iOS,{webView:h.iOS_App,browser:h.iOS_Browser}),n(b,p.Android,{webView:h.Android_App,browser:h.Android_Browser}),n(b,p.Other,{webView:h.Other,browser:h.Other}),b))}k(a,[{key:"getBrowserName",value:function(){return this.testUserAgent(/edge|edg|edgiOS|edgA/i)?"edge":this.testUserAgent(/opt|opr\//i)?"opera":this.testUserAgent(/firefox|fxios/i)?"firefox":this.testUserAgent(/chrome|chromium|crios/i)?"chrome":this.testUserAgent(/safari/i)?"safari":"unknown"}},{key:"isRunningInWebView",
value:function(){var a=(0,l["default"])(x.navigator.userAgent);a||(a=this.testUserAgent(/Amazon\.com\/\d+\.\d+/i));a||(a=this.isMacOSWebView());return a}},{key:"getOSName",value:function(){return this.determineOS()}},{key:"getPlatform",value:function(){var a=this.determineOS();return this.isRunningInWebView()?this.platformStrategy[a].webView:this.platformStrategy[a].browser}},{key:"determineOS",value:function(){return this.isIOS()?p.iOS:this.isAndroid()?p.Android:p.Other}},{key:"testUserAgent",value:function(a){try{return a.test(x.navigator.userAgent)}catch(t){return!1}}},
{key:"isIOS",value:function(){return this.testUserAgent(/OS [1-9][0-9]*(_[0-9]*)+ like Mac OS X/i)&&!this.testUserAgent(/trident|Edge/i)}},{key:"isAndroid",value:function(){return this.testUserAgent(/android.([1-9]|[L-Z])/i)&&!this.testUserAgent(/trident|Edge/i)}},{key:"isMacOSWebView",value:function(){return this.testUserAgent(/^Mozilla.* \(Macintosh; Intel Mac OS X.*\) AppleWebKit.* \(KHTML, like Gecko\)$/)}}]);return a}();c["default"]=b},4650:function(b,c){function a(a,b){for(var c=0;c<b.length;c++){var h=
b[c];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(a,h.key,h)}}function f(b,c,l){c&&a(b.prototype,c);l&&a(b,l);Object.defineProperty(b,"prototype",{writable:!1});return b}Object.defineProperty(c,"__esModule",{value:!0});c.SigninAutomationHelper=void 0;b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}f(a,[{key:"login",value:function(a,b){if(null===a||a===q||""===a.trim())throw Error("email cannot be null or empty");
if(null===b||b===q||""===b.trim())throw Error("password cannot be null or empty");this.setEmail(a);this.setPassword(b);this.clickSignInButton();setTimeout(function(){},5E3)}},{key:"setEmail",value:function(a){var b=this.findElement({selector:'input[type\x3d"email"]',maxAttempts:3,errorMessage:"Email input field not found"});b.value=a;b.dispatchEvent(new Event("input",{bubbles:!0}))}},{key:"setPassword",value:function(a){try{var b=this.findElement({selector:'input[type\x3d"password"]',maxAttempts:3,
errorMessage:"password element not found"});b.value=a;b.dispatchEvent(new Event("input",{bubbles:!0}))}catch(h){throw Error("Failed to set password: ".concat(h instanceof Error?h.message:"Unknown error"));}}},{key:"clickSignInButton",value:function(){try{this.findElement({selector:'input[type\x3d"submit"]',maxAttempts:3,errorMessage:"Sign-in button not found"}).click()}catch(n){throw Error("Failed to click sign-in button: ".concat(n instanceof Error?n.message:"Unknown error"));}}},{key:"findElement",
value:function(a){var b=a.selector,c=a.maxAttempts;c=void 0===c?5:c;var p=a.delayMs;p=void 0===p?1E3:p;a=a.errorMessage;a=void 0===a?'Element with selector "'.concat(b,'" not found'):a;for(var d=0,f;d<c;){if(f=document.querySelector(b))return f;for(f=Date.now();Date.now()-f<p;);d++}throw Error(a);}}]);return a}();c.SigninAutomationHelper=b},9606:function(b,c,a){Object.defineProperty(c,"__esModule",{value:!0});c["default"]=function(){return(0,f.v4)()};var f=a(5877)},4572:function(){},8190:function(b,
c){function a(b){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},a(b)}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,n(d.key),d)}}function k(a,b,c){b&&
f(a.prototype,b);c&&f(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function n(b){a:if("object"===a(b)&&null!==b){var c=b[Symbol.toPrimitive];if(c!==q){b=c.call(b,"string");if("object"!==a(b))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}return"symbol"===a(b)?b:String(b)}Object.defineProperty(c,"__esModule",{value:!0});c.NativeConfigInjector=void 0;b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.config={ios_app:{launchedApps:["com.amazon.MAPiOSLibSampleApp"]},android_app:{launchedApps:["com.amazon.map.sample.one"]}}}k(a,[{key:"getConfig",value:function(a){return this.config[a].launchedApps}},{key:"injectNativeConfiguration",value:function(a){this.config=a}}],[{key:"getInstance",value:function(){a.instance||(a.instance=new a);return a.instance}}]);return a}();c.NativeConfigInjector=b},7127:function(b,c,a){function f(a){"@babel/helpers - typeof";return f="function"==typeof Symbol&&"symbol"==
r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},f(a)}function k(a,b){for(var e=0;e<b.length;e++){var c=b[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,h(c.key),c)}}function n(a,b,e){b&&k(a.prototype,b);e&&k(a,e);Object.defineProperty(a,"prototype",{writable:!1});return a}
function l(a,b,e){b=h(b);b in a?Object.defineProperty(a,b,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[b]=e;return a}function h(a){a:if("object"===f(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==f(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===f(a)?a:String(a)}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var p=a(5792),d=a(8871),v=a(6445),t=a(6390),u=a(5906),y=a(8190),
m=a(5177),e=a(7193),z=a(9629),D=a(6957);b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");l(this,"getNativeInfoCache",u.GetNativeInfoCache.getInstance())}n(a,[{key:"createNativePasskeyCredential",value:function(b){return new Promise(function(e,c){a.makeNativeCreateCredentialCall(e,c,{publicKey:b,timeout:a.CREATE_CREDENTIAL_TIMEOUT_MILLIS})})}},{key:"getNativePasskeyCredential",value:function(b){return new Promise(function(e,c){var m={publicKey:{rpId:b.relyingPartyId,
challenge:b.challenge,userVerification:b.userVerification,timeout:b.timeout},preferImmediatelyAvailableCredentials:b.preferImmediatelyAvailableCredentials,timeout:a.GET_CREDENTIAL_TIMEOUT_MILLIS};b.mediation?(m.mediation=b.mediation,b.autofillMode&&(m.autofillMode=b.autofillMode)):b.allowedCredentials&&(m.publicKey.allowCredentials=b.allowedCredentials);a.makeNativeGetCredentialCall(e,c,m)})}},{key:"isMobileBetaProgram",value:function(){var a=this;return new Promise(function(b,e){a.getNativeInfo().then(function(a){if(a){var e=
a.platformInfo.name.toLowerCase();a=a.appInfo.identifier;e===p.AndroidConfig.platformName?b(p.AndroidConfig.mbpAppIdentifiers.includes(a)):e===p.iOSConfig.platformName&&b(p.iOSConfig.mbpAppIdentifiers.includes(a));console.error("unknown platform")}else console.error("fail to get native info.");b(!1)})})}},{key:"isNativePasskeyAPIAvailable",value:function(a){var b=this;return new Promise(function(e,c){var d=m.MAPNativeJSInterface.getInstance().getMinVersionForFeature(m.Feature.PASSKEY,1);d?b.getNativeInfo().then(function(c){if(c){var m=
c.platformInfo.name.toLowerCase(),y=c.platformInfo.version,z=c.platformInfo.isUserVerifyingPlatformAuthenticatorAvailable,h=c.mapInfo.jsVersion,E=c.appInfo.identifier;c=c.mapInfo.mapVersion;!0!==(null===a||void 0===a?void 0:a.requireOnDeviceAuthenticatorAvailable)||z||e(!1);m===p.iOSConfig.platformName?e(b.shouldSupportPasskeyiOS(y,h,E,d,c,null===a||void 0===a?void 0:a.webAuthnNativeConfig)):m===p.AndroidConfig.platformName?e(b.shouldSupportPasskeyAndroid(y,h,E,d,null===a||void 0===a?void 0:a.webAuthnNativeConfig)):
e(!1)}else e(!1)}):(console.error("getMinVersionForFeature returned null"),e(!1))})}},{key:"checkDevicePasskeyCapability",value:function(){var a=this;return new Promise(function(b,e){a.getNativeInfo().then(function(a){a?a.platformInfo.isUserVerifyingPlatformAuthenticatorAvailable?b(z.PasskeyDeviceCapability.SUPPORTED):b(z.PasskeyDeviceCapability.UNSUPPORTED):b(z.PasskeyDeviceCapability.IGNORE)})})}},{key:"shouldSupportPasskeyiOS",value:function(a,b,e,c,m,d){return"number"===typeof a&&a<p.iOSConfig.minVersionNumber.IDENTITY_MOBILE_PASSKEY||
"string"===typeof a&&(0,v.compare)(a,p.iOSConfig.minVersionString.IDENTITY_MOBILE_PASSKEY,"\x3c")||b<c.minMAPiOSJsBridgeVersion||(0,v.compare)(m,p.iOSConfig.minMapVersion,"\x3c")?!1:d?d.ios_app.launchedApps.includes(e):y.NativeConfigInjector.getInstance().getConfig("ios_app").includes(e)}},{key:"shouldSupportPasskeyAndroid",value:function(a,b,e,c,m){return"number"===typeof a&&a<p.AndroidConfig.minVersionNumber.IDENTITY_MOBILE_PASSKEY||"string"===typeof a&&(0,v.compare)(a,p.AndroidConfig.minVersionString.IDENTITY_MOBILE_PASSKEY,
"\x3c")||b<c.minMAPAndroidJsBridgeVersion?!1:m?m.android_app.launchedApps.includes(e):y.NativeConfigInjector.getInstance().getConfig("android_app").includes(e)}},{key:"getNativeInfo",value:function(){return this.getNativeInfoCache.getNativeInfo().then(function(a){return a instanceof m.GetNativeInfoAPISuccessResponse?a:null})["catch"](function(a){console.debug("Unexpected error caught: ".concat(a.error.errorCode));return null})}}],[{key:"makeNativeCreateCredentialCall",value:function(b,c,d){d=new m.NativeJsInterfaceAPIRequest(a.PASSKEY_API_NAME_SPACE,
a.CREATE_CREDENTIAL_API_METHOD,d);var y=m.MAPNativeJSInterface.getInstance(),z=(0,e.getNativeErrorHandler)();y.apiCall(d).then(function(e){e.error?c(z.translateNativeError(e.error)):b(a.createCredentialAdaptWebAuthNResponse(e.apiResult))})["catch"](function(a){console.error("Unexpected error caught: ".concat(a));c(z.translateNativeError(a))})}},{key:"makeNativeGetCredentialCall",value:function(b,c,d){d=new m.NativeJsInterfaceAPIRequest(a.PASSKEY_API_NAME_SPACE,a.GET_CREDENTIAL_API_METHOD,d);var y=
m.MAPNativeJSInterface.getInstance(),z=(0,e.getNativeErrorHandler)();y.apiCall(d).then(function(e){e.error?c(z.translateNativeError(e.error)):b(a.getCredentialAdaptWebAuthNResponse(e.apiResult))})["catch"](function(a){console.error("Unexpected error caught: ".concat(a));c(z.translateNativeError(a))})}},{key:"createCredentialAdaptWebAuthNResponse",value:function(b){var e={attestationObject:(0,d.base64UrlStringToBuffer)(b.response.attestationObject),clientDataJSON:(0,d.base64UrlStringToBuffer)(b.response.clientDataJSON),
getAuthenticatorData:function(){return(0,t.extractAuthenticatorDataFromAttestationObject)(this.attestationObject)},getPublicKey:function(){return null},getPublicKeyAlgorithm:function(){return a.COSE_ALGORITHM_IDENTIFIER},getTransports:function(){return b.response.transports}};return{id:b.id,type:b.type,rawId:(0,d.base64UrlStringToBuffer)(b.rawId),response:e,authenticatorAttachment:b.authenticatorAttachment,getClientExtensionResults:function(){return{}}}}},{key:"getCredentialAdaptWebAuthNResponse",
value:function(a){if("password"===a.responseType)return{id:(0,d.base64URLDecode)(a.response.user),password:(0,d.base64URLDecode)(a.response.password)};switch((new D.PlatformDetector).getPlatform()){case D.Platform.Android_App:var b=(0,d.base64UrlStringToBuffer)(a.response.userHandle);break;default:b=(0,d.stringToBuffer)(a.response.userHandle)}b={authenticatorData:(0,d.base64UrlStringToBuffer)(a.response.authenticatorData),clientDataJSON:(0,d.base64UrlStringToBuffer)(a.response.clientDataJSON),signature:(0,
d.base64UrlStringToBuffer)(a.response.signature),userHandle:b};return{id:a.id,rawId:(0,d.base64UrlStringToBuffer)(a.rawId),response:b,type:a.type,authenticatorAttachment:null,getClientExtensionResults:function(){return{}}}}}]);return a}();c["default"]=b;l(b,"PASSKEY_API_NAME_SPACE","IDENTITY_MOBILE_PASSKEY");l(b,"CREATE_CREDENTIAL_API_METHOD","createCredential");l(b,"GET_CREDENTIAL_API_METHOD","getCredential");l(b,"START_COUNTER","Start");l(b,"SUCCESS_COUNTER","Success");l(b,"CREATE_CREDENTIAL_TIMEOUT_MILLIS",
3E5);l(b,"GET_CREDENTIAL_TIMEOUT_MILLIS",9E5);l(b,"COSE_ALGORITHM_IDENTIFIER",-7)},9629:function(b,c){function a(b){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},a(b)}function f(a,b){for(var e=0;e<b.length;e++){var c=b[e];c.enumerable=c.enumerable||!1;c.configurable=
!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,n(c.key),c)}}function k(a,b,e){b&&f(a.prototype,b);e&&f(a,e);Object.defineProperty(a,"prototype",{writable:!1});return a}function n(b){a:if("object"===a(b)&&null!==b){var c=b[Symbol.toPrimitive];if(c!==q){b=c.call(b,"string");if("object"!==a(b))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}return"symbol"===a(b)?b:String(b)}function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});Object.defineProperty(a,"prototype",{writable:!1});b&&t(a,b)}function h(b){var c=v();return function(){var e=u(b);if(c){var m=u(this).constructor;e=Reflect.construct(e,arguments,m)}else e=e.apply(this,arguments);if(!e||"object"!==a(e)&&"function"!==typeof e){if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
e=this}return e}}function p(a){var b="function"===typeof Map?new Map:q;p=function(a){function e(){return d(a,arguments,u(this).constructor)}if(null===a||-1===Function.toString.call(a).indexOf("[native code]"))return a;if("function"!==typeof a)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof b){if(b.has(a))return b.get(a);b.set(a,e)}e.prototype=Object.create(a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});return t(e,a)};
return p(a)}function d(a,b,e){d=v()?Reflect.construct.bind():function(a,b,e){var c=[null];c.push.apply(c,b);a=new (Function.bind.apply(a,c));e&&t(a,e.prototype);return a};return d.apply(null,arguments)}function v(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}function t(a,b){t=Object.setPrototypeOf?Object.setPrototypeOf.bind():
function(a,b){a.__proto__=b;return a};return t(a,b)}function u(a){u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)};return u(a)}Object.defineProperty(c,"__esModule",{value:!0});c.WebAuthnNativeError=c.PasskeyDeviceCapability=c.NativeiOSGetCredentialErrorName=c.NativeiOSCreateCredentialErrorName=c.NativePasskeyErrorCode=c.NativeAndroidGetCredentialErrorName=c.NativeAndroidCreateCredentialErrorName=void 0;b=function(a){function b(a,c,m){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");var d=e.call(this,null!==c&&void 0!==c&&c.message?c.message:null!==m&&void 0!==m&&m.mapErrorMessage?m.mapErrorMessage:"");d.name=a;d.iosErrorDetail=c;d.androidErrorDetail=m;return d}l(b,a);var e=h(b);return k(b)}(p(Error));c.WebAuthnNativeError=b;b=function(a){a.UNABLE_TO_ENROLL="UnableToEnroll";a.ENROLLMENT_CANCELLED="EnrollmentCancelled";a.ENROLLMENT_TIMEOUT="EnrollmentTimeout";a.ENROLLMENT_GENERAL_ERROR="EnrollmentGeneralError";a.ENROLLMENT_REQUEST_JSON_PARSE_FAILED=
"EnrollmentRequestJSONParseFailed";a.ENROLLMENT_UNABLE_TO_VALIDATE="EnrollmentUnableToValidate";a.ENROLLMENT_CREDENTIAL_EXISTS="EnrollmentCredentialExists";a.ENROLLMENT_RE_ENROLL_CANCEL="EnrollmentReEnrollCancel";return a}({});c.NativeAndroidCreateCredentialErrorName=b;b=function(a){a.UNABLE_TO_AUTHENTICATE="UnableToAuthenticate";a.AUTHENTICATION_CANCELLED="AuthenticationCancelled";a.AUTHENTICATION_TIMEOUT="AuthenticationTimeout";a.AUTHENTICATION_GENERAL_ERROR="AuthenticationGeneralError";a.AUTHENTICATION_REQUEST_JSON_PARSE_FAILED=
"AuthenticationRequestJSONParseFailed";a.AUTHENTICATION_NO_MATCHING_CREDENTIALS="AuthenticationNoMatchedCredentials";return a}({});c.NativeAndroidGetCredentialErrorName=b;b=function(a){a.AIPasskeyRegisterErrorInputJsonParsing="AIPasskeyRegisterErrorInputJsonParsing";a.AIPasskeyRegisterErrorParsedInputJsonNil="AIPasskeyRegisterErrorParsedInputJsonNil";a.AIPasskeyRegisterErrorInputParamMissing="AIPasskeyRegisterErrorInputParamMissing";a.AIPasskeyRegisterErrorGotAssertionResponseFromSystem="AIPasskeyRegisterErrorGotAssertionResponseFromSystem";
a.AIPasskeyRegisterErrorUnexpectedResponseClassFromSystem="AIPasskeyRegisterErrorUnexpectedResponseClassFromSystem";a.AIPasskeyRegisterErrorSystem="AIPasskeyRegisterErrorSystem";return a}({});c.NativeiOSCreateCredentialErrorName=b;b=function(a){a.AIPasskeyAuthErrorInputJsonParsing="AIPasskeyAuthErrorInputJsonParsing";a.AIPasskeyAuthErrorParsedInputJsonNil="AIPasskeyAuthErrorParsedInputJsonNil";a.AIPasskeyAuthErrorInputParamMissing="AIPasskeyAuthErrorInputParamMissing";a.AIPasskeyAuthErrorGotRegisterResponseFromSystem=
"AIPasskeyAuthErrorGotRegisterResponseFromSystem";a.AIPasskeyAuthErrorUnexpectedResponseClassFromSystem="AIPasskeyAuthErrorUnexpectedResponseClassFromSystem";a.AIPasskeyAuthErrorSystem="AIPasskeyAuthErrorSystem";return a}({});c.NativeiOSGetCredentialErrorName=b;b=function(a){a.SUPPORTED="Supported";a.UNSUPPORTED="Unsupported";a.IGNORE="Ignore";return a}({});c.PasskeyDeviceCapability=b;b=function(a){a.CANCEL="Cancel";a.RP_ID_VALIDATION_FAIL="RpIdValidationFail";a.DEPRECATED_CREDENTIAL_SDK="DeprecatedCredentialSDK";
a.ALREADY_EXISTS="AlreadyExist";a.TIME_OUT="Timeout";a.MAP_JS_BRIDGE_NOT_AVAILABLE="MAPJSBridgeNotAvailable";a.DEVICE_INELIGIBLE="DeviceIneligible";a.SYSTEM_BUG="SystemBug";a.APP_INTEGRATION_BUG="AppIntegrationBug";a.NO_CLOUD_ACCOUNT="NoCloudAccount";a.MISMATCH_CLOUD_ACCOUNT="MismatchCloudAccount";a.NO_CREDENTIALS="NoCredentials";a.TOO_MANY_REQUESTS="TooManyRequests";a.UNKNOWN="Unknown";return a}({});c.NativePasskeyErrorCode=b},5906:function(b,c,a){function f(a){"@babel/helpers - typeof";return f=
"function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},f(a)}function k(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,l(d.key),d)}}function n(a,b,c){b&&k(a.prototype,b);c&&k(a,c);Object.defineProperty(a,
"prototype",{writable:!1});return a}function l(a){a:if("object"===f(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==f(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===f(a)?a:String(a)}Object.defineProperty(c,"__esModule",{value:!0});c.GetNativeInfoCache=void 0;var h=a(5177);b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.getNativeInfoResponse=
q}n(a,[{key:"getNativeInfo",value:function(){var a=this;return new Promise(function(b,c){if(a.getNativeInfoResponse===q)h.MAPNativeJSInterface.getInstance().getNativeInfo().then(function(c){c instanceof h.GetNativeInfoAPISuccessResponse&&(a.getNativeInfoResponse=c);b(c)})["catch"](function(a){c(a)});else b(a.getNativeInfoResponse)})}},{key:"invalidateCache",value:function(){this.getNativeInfoResponse=q}}],[{key:"getInstance",value:function(){a.instance||(a.instance=new a);return a.instance}}]);return a}();
c.GetNativeInfoCache=b},5792:function(b,c){Object.defineProperty(c,"__esModule",{value:!0});c.iOSConfig=c.AndroidConfig=void 0;c.iOSConfig={platformName:"ios",minVersionNumber:{IDENTITY_MOBILE_PASSKEY:16.4,DEFAULT:12},minVersionString:{IDENTITY_MOBILE_PASSKEY:"16.4"},mbpAppIdentifiers:"com.amazon.Amazon.dev com.amazon.Amazon.Enterprise com.amazon.Amazon.development com.amazon.AmazonIN.Enterprise com.amazon.AmazonUK.Enterprise com.amazon.AmazonDE.Enterprise com.amazon.AmazonFR.Enterprise com.amazon.AmazonJP.Enterprise".split(" "),
minMapVersion:"6.14.2"};c.AndroidConfig={platformName:"android",minVersionNumber:{IDENTITY_MOBILE_PASSKEY:28,DEFAULT:16},minVersionString:{IDENTITY_MOBILE_PASSKEY:"28"},mbpAppIdentifiers:["com.amazon.mShop.android.beta","com.amazon.map.sample.one"]}},7395:function(b,c,a){function f(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"sB",{enumerable:!0,get:function(){return n.AndroidNativeErrorCodeMapping}});Object.defineProperty(c,"YG",{enumerable:!0,get:function(){return k.NativeAndroidCreateCredentialErrorName}});
Object.defineProperty(c,"UH",{enumerable:!0,get:function(){return k.NativeAndroidGetCredentialErrorName}});Object.defineProperty(c,"Ps",{enumerable:!0,get:function(){return h.NativeConfigInjector}});Object.defineProperty(c,"v1",{enumerable:!0,get:function(){return p["default"]}});Object.defineProperty(c,"GG",{enumerable:!0,get:function(){return k.NativeiOSCreateCredentialErrorName}});Object.defineProperty(c,"DO",{enumerable:!0,get:function(){return k.NativeiOSGetCredentialErrorName}});Object.defineProperty(c,
"Hy",{enumerable:!0,get:function(){return k.PasskeyDeviceCapability}});Object.defineProperty(c,"KV",{enumerable:!0,get:function(){return k.WebAuthnNativeError}});Object.defineProperty(c,"$_",{enumerable:!0,get:function(){return l.bufferToBase64UrlString}});var k=a(9629),n=a(7264),l=a(8871);a(8825);var h=a(8190);a(8180);f(a(4572));var p=f(a(7127))},7264:function(b,c,a){function f(a){"@babel/helpers - typeof";return f="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===
typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},f(a)}function k(a,b){if(null==b||b>a.length)b=a.length;for(var c=0,e=Array(b);c<b;c++)e[c]=a[c];return e}function n(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,p(e.key),e)}}function l(a,b,c){b&&n(a.prototype,b);c&&n(a,c);Object.defineProperty(a,
"prototype",{writable:!1});return a}function h(a,b,c){b=p(b);b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}function p(a){a:if("object"===f(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==f(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===f(a)?a:String(a)}Object.defineProperty(c,"__esModule",{value:!0});c.AndroidNativeErrorCodeMapping=void 0;var d=
a(9629);b=a(5177);var v,t={"The user attempted to register an authenticator that contains one of the credentials already registered with the relying party":d.NativePasskeyErrorCode.ALREADY_EXISTS,"You already have a passkey":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Ya tiene una clave de acceso":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Ya tienes una clave de acceso":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Você já tem uma chave de acesso":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Já tem uma chave de acesso":d.NativePasskeyErrorCode.ALREADY_EXISTS,
"Vous avez déjà une clé d'accès":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Avete già una passkey per Amazon":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Aveți deja o cheie principală":d.NativePasskeyErrorCode.ALREADY_EXISTS,"에서 사용할 패스키가 이미 있습니다":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Bạn đã có mã khóa cho":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Ключ доступа для Amazon уже существует":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Anda sudah memiliki kunci sandi untuk":d.NativePasskeyErrorCode.ALREADY_EXISTS,
"既にAmazonのパスキーがあります":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Du verfügst bereits über einen Passkey":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Je hebt al een sleutel voor":d.NativePasskeyErrorCode.ALREADY_EXISTS,"لديك بالفعل مفتاح مرور لـ":d.NativePasskeyErrorCode.ALREADY_EXISTS,"已存在 Amazon 專用密碼金鑰":d.NativePasskeyErrorCode.ALREADY_EXISTS,"您已有 Amazon 的通行金鑰":d.NativePasskeyErrorCode.ALREADY_EXISTS,"כבר יש לך מפתח סיסמה עבור Amazon":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Masz już klucz dostępu":d.NativePasskeyErrorCode.ALREADY_EXISTS,
"için zaten parolanız var":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Du har redan en lösennyckel":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Sinulla on jo todentamisavain kohteeseen Amazon":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Već imate pristupni ključ za":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Έχετε ήδη κλειδί πρόσβασης για Amazon":d.NativePasskeyErrorCode.ALREADY_EXISTS,"Device ineligible":d.NativePasskeyErrorCode.DEVICE_INELIGIBLE,"Biometric hardware unavailable":d.NativePasskeyErrorCode.DEVICE_INELIGIBLE,
"No hay hardware biométrico disponible":d.NativePasskeyErrorCode.DEVICE_INELIGIBLE,"Too many attempts":d.NativePasskeyErrorCode.TOO_MANY_REQUESTS,"Zu viele Versuche. Versuchen Sie es später erneut":d.NativePasskeyErrorCode.TOO_MANY_REQUESTS,"تم إجراء عدد كبير من المحاولات. أعد المحاولة لاحقًا":d.NativePasskeyErrorCode.TOO_MANY_REQUESTS,"Your device doesn't support credential manager":d.NativePasskeyErrorCode.DEPRECATED_CREDENTIAL_SDK,"Missing Feature{name\x3dauth_api_credentials_begin_sign_in":d.NativePasskeyErrorCode.DEPRECATED_CREDENTIAL_SDK,
"User canceled the request":d.NativePasskeyErrorCode.CANCEL,"Cancelled by user":d.NativePasskeyErrorCode.CANCEL,"User canceled verification":d.NativePasskeyErrorCode.CANCEL,"User verification is cancelled by the user":d.NativePasskeyErrorCode.CANCEL,"The incoming request cannot be validated":d.NativePasskeyErrorCode.RP_ID_VALIDATION_FAIL,"RP ID amazon.":d.NativePasskeyErrorCode.RP_ID_VALIDATION_FAIL,"Google account is missing":d.NativePasskeyErrorCode.NO_CLOUD_ACCOUNT,"Request doesn't have a valid list of allowed credentials":d.NativePasskeyErrorCode.NO_CREDENTIALS,
"No credentials available":d.NativePasskeyErrorCode.NO_CREDENTIALS,"Cannot find credential in local KeyStore or database":d.NativePasskeyErrorCode.NO_CREDENTIALS,"Key permanently invalidated":d.NativePasskeyErrorCode.NO_CREDENTIALS,"Failed to decrypt credential":d.NativePasskeyErrorCode.MISMATCH_CLOUD_ACCOUNT,"no provider dependencies found":d.NativePasskeyErrorCode.APP_INTEGRATION_BUG},u={15:d.NativePasskeyErrorCode.TIME_OUT,16:d.NativePasskeyErrorCode.CANCEL,50152:d.NativePasskeyErrorCode.RP_ID_VALIDATION_FAIL,
50160:d.NativePasskeyErrorCode.NO_CLOUD_ACCOUNT,50162:d.NativePasskeyErrorCode.SYSTEM_BUG,50164:d.NativePasskeyErrorCode.CANCEL},y=(v={},h(v,d.NativeAndroidCreateCredentialErrorName.ENROLLMENT_CANCELLED,d.NativePasskeyErrorCode.CANCEL),h(v,d.NativeAndroidCreateCredentialErrorName.ENROLLMENT_UNABLE_TO_VALIDATE,d.NativePasskeyErrorCode.RP_ID_VALIDATION_FAIL),h(v,d.NativeAndroidCreateCredentialErrorName.ENROLLMENT_CREDENTIAL_EXISTS,d.NativePasskeyErrorCode.ALREADY_EXISTS),h(v,d.NativeAndroidCreateCredentialErrorName.ENROLLMENT_TIMEOUT,
d.NativePasskeyErrorCode.TIME_OUT),h(v,d.NativeAndroidGetCredentialErrorName.AUTHENTICATION_CANCELLED,d.NativePasskeyErrorCode.CANCEL),h(v,d.NativeAndroidGetCredentialErrorName.AUTHENTICATION_NO_MATCHING_CREDENTIALS,d.NativePasskeyErrorCode.NO_CREDENTIALS),h(v,b.ErrorCode.TIMEOUT_ERROR,d.NativePasskeyErrorCode.TIME_OUT),h(v,b.ErrorCode.UNSUPPORTED_PLATFORM,d.NativePasskeyErrorCode.MAP_JS_BRIDGE_NOT_AVAILABLE),v);v=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
}l(a,[{key:"getErrorCodeFromPlatformMessage",value:function(a){var b;return null===(b=RegExp(/\[(\d+)]/).exec(a))||void 0===b?void 0:b[1]}},{key:"translateWebAuthnAndroidErrorDetail",value:function(a){a=a.platformExceptionMessage;if(null===a||a===q)return d.NativePasskeyErrorCode.UNKNOWN;var b=this.getErrorCodeFromPlatformMessage(a),c;"string"===typeof b&&(c=u[b]);if(c!==q)return c;c=0;for(b=Object.entries(t);c<b.length;c++){var e=b[c];var m=e;m=Array.isArray(m)?m:void 0;if(!m)a:{var h=void 0,y=void 0,
l=void 0,f=void 0,p=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=p){var n=[],v=!0,r=!1;try{for(y=(p=p.call(e)).next;!(v=(f=y.call(p)).done)&&(n.push(f.value),2!==n.length);v=!0);}catch(T){r=!0,l=T}finally{try{if(!v&&null!=p["return"]&&(h=p["return"](),Object(h)!==h)){m=void 0;break a}}finally{if(r)throw l;}}m=n}else m=void 0}if(!m)a:{if(e){if("string"===typeof e){m=k(e,2);break a}m=Object.prototype.toString.call(e).slice(8,-1);"Object"===m&&e.constructor&&
(m=e.constructor.name);if("Map"===m||"Set"===m){m=Array.from(e);break a}if("Arguments"===m||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)){m=k(e,2);break a}}m=void 0}if(!(e=m))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");m=e[1];if(a.includes(e[0]))return m}return q}},{key:"translateCredentialNativeError",value:function(a){var b,c=a.androidErrorDetail;a=y[a.name];"undefined"===typeof a&&
(a=this.translateWebAuthnAndroidErrorDetail(c));return null!==(b=a)&&void 0!==b?b:d.NativePasskeyErrorCode.UNKNOWN}}]);return a}();c.AndroidNativeErrorCodeMapping=v},7193:function(b,c,a){function f(a){"@babel/helpers - typeof";return f="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},f(a)}function k(a,
b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function n(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,h(e.key),e)}}function l(a,b,c){b&&n(a.prototype,b);c&&n(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function h(a){a:if("object"===f(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==f(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");
}a=String(a)}return"symbol"===f(a)?a:String(a)}Object.defineProperty(c,"__esModule",{value:!0});c.MAPiOSErrorHandler=c.MAPAndroidErrorHandler=void 0;c.getNativeErrorHandler=function(){switch((new p.PlatformDetector).getPlatform()){case p.Platform.Android_App:return new v;case p.Platform.iOS_App:return new t;default:return{translateNativeError:function(a){return a instanceof Error?a:Error("MAP js bridge on unrecognized platform. This should never happen")}}}};var p=a(6957),d=a(9629),v=function(){function a(){k(this,
a)}l(a,[{key:"translateNativeError",value:function(a){return a instanceof Error?a:new d.WebAuthnNativeError(a.errorCode,q,{platformExceptionMessage:a.errorDetails.platformExceptionMessage,mapErrorMessage:a.errorDetails.mapErrorMessage})}}]);return a}();c.MAPAndroidErrorHandler=v;var t=function(){function a(){k(this,a)}l(a,[{key:"translateNativeError",value:function(a){return a instanceof Error?a:new d.WebAuthnNativeError(a.errorCode,{code:a.errorDetails.code,domain:a.errorDetails.domain,message:a.errorDetails.message},
q)}}]);return a}();c.MAPiOSErrorHandler=t},8825:function(b,c,a){function f(a){"@babel/helpers - typeof";return f="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},f(a)}function k(a,b){var c="undefined"!==typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=n(a))||
b&&a&&"number"===typeof a.length){c&&(a=c);var e=0;b=function(){};return{s:b,n:function(){return e>=a.length?{done:!0}:{done:!1,value:a[e++]}},e:function(a){throw a;},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var d=!0,h=!1,l;return{s:function(){c=c.call(a)},n:function(){var a=c.next();d=a.done;return a},e:function(a){h=!0;l=a},f:function(){try{if(!d&&null!=c["return"])c["return"]()}finally{if(h)throw l;
}}}}function n(a,b){if(a){if("string"===typeof a)return l(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);"Object"===c&&a.constructor&&(c=a.constructor.name);if("Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,b)}}function l(a,b){if(null==b||b>a.length)b=a.length;for(var c=0,e=Array(b);c<b;c++)e[c]=a[c];return e}function h(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;
"value"in e&&(e.writable=!0);Object.defineProperty(a,v(e.key),e)}}function p(a,b,c){b&&h(a.prototype,b);c&&h(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function d(a,b,c){b=v(b);b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}function v(a){a:if("object"===f(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==f(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");
}a=String(a)}return"symbol"===f(a)?a:String(a)}Object.defineProperty(c,"__esModule",{value:!0});c.iOSNativeErrorCodeMapping=void 0;var t=a(9629);b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");d(this,"systemErrorHandlers",{1001:this.handle1001Error.bind(this)});d(this,"noCredentialsKeywords","No credentials available for login;No hay credenciales disponibles para iniciar sesión;No hay ninguna credencial disponible para iniciar sesión;Nenhuma credencial disponível para login;Não há nenhuma credencial disponível para iniciar sessão;Aucune information d'identification n'est disponible pour procéder à la connexion;Aucun identifiant disponible pour la connexion;Keine Anmeldedaten für die Anmeldung verfügbar;Нет доступных данных для входа;Немає доступних облікових даних для входу;没有可用于登录的凭证;沒有可用於登入的憑證;ログイン用の資格情報がありません;로그인을 위한 자격 증명이 없습니다;Không có sẵn thông tin để đăng nhập;لا تتوفر بيانات اعتماد لتسجيل الدخول;Oturum açmak için kullanılabilecek kimlik bilgisi yok;אין אישורים זמינים להתחברות;Geen inloggegevens beschikbaar;Inga ID-handlingar tillgängliga för inloggning;Nu sunt disponibile acreditări pentru login;Δεν υπάρχουν διαθέσιμα διαπιστευτήρια για είσοδο;Der er ingen tilgængelige godkendelsesoplysninger til login;Nejsou k dispozici žádné přihlašovací údaje".split(";"));
d(this,"authServicesAuthorizationErrorMessages","(com.apple.AuthenticationServices.AuthorizationError error 1001.);(Error de com.apple.AuthenticationServices.AuthorizationError 1001.);(com.apple.AuthenticationServices.AuthorizationError erro 1001.);(com.apple.AuthenticationServices.AuthorizationError erreur 1001.);（com.apple.AuthenticationServices.AuthorizationError错误1001。）;（com.apple.AuthenticationServices.AuthorizationErrorエラー1001）;(com.apple.AuthenticationServices.AuthorizationError-Fehler 1001.);（com.apple.AuthenticationServices.AuthorizationError錯誤1001 。）;(com.apple.AuthenticationServices.AuthorizationError 오류 1001.);(Errore com.apple.AuthenticationServices.AuthorizationError 1001);(خطأ 1001 في com.apple.AuthenticationServices.AuthorizationError.);(com.apple.AuthenticationServices.AuthorizationError hatası 1001.);(שגיאת com.apple.AuthenticationServices.AuthorizationError - 1001.);(com.apple.AuthenticationServices.AuthorizationError fout 1001.);(Błąd com.apple.AuthenticationServices.AuthorizationError 1001.);(com.apple.AuthenticationServices.AuthorizationError fel 1001.);(com.apple.AuthenticationServices.AuthorizationError fejl 1001.);(com.apple.AuthenticationServices.AuthorizationError chyba 1001.)".split(";"))}
p(a,[{key:"handle1001Error",value:function(a){var b=k(this.noCredentialsKeywords),c;try{for(b.s();!(c=b.n()).done;)if(a.includes(c.value))return t.NativePasskeyErrorCode.NO_CREDENTIALS}catch(D){b.e(D)}finally{b.f()}b=k(this.authServicesAuthorizationErrorMessages);var d;try{for(b.s();!(d=b.n()).done;)if(a.includes(d.value))return t.NativePasskeyErrorCode.CANCEL}catch(D){b.e(D)}finally{b.f()}return t.NativePasskeyErrorCode.UNKNOWN}},{key:"translateCredentialNativeError",value:function(a){a=a.iosErrorDetail;
if(null!==a&&void 0!==a&&a.code&&null!==a&&void 0!==a&&a.message){var b=this.systemErrorHandlers[a.code];if(b)return b(a.message)}return t.NativePasskeyErrorCode.UNKNOWN}}]);return a}();c.iOSNativeErrorCodeMapping=b},8180:function(b,c){Object.defineProperty(c,"__esModule",{value:!0})},8871:function(b,c,a){function f(a){return Uint8Array.from(a,function(a){return a.charCodeAt(0)}).buffer}Object.defineProperty(c,"__esModule",{value:!0});c.base64URLDecode=function(a){a=a.replace(/-/g,"+").replace(/_/g,
"/");return x.atob(a)};c.base64UrlStringToBuffer=function(a){return f(x.atob(a.replace(/-/g,"+").replace(/_/g,"/")))};c.bufferToBase64UrlString=function(a){return k.Base64UrlEncodingHelper.bufferToBase64UrlString(a)};c.stringToBuffer=f;var k=a(5177)},6810:function(b,c){function a(b){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&
a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},a(b)}Object.defineProperty(c,"__esModule",{value:!0});c.decode=function(a,b,c){function d(a,b){E+=b;return a}function h(b){return d(new Uint8Array(a,E,b),b)}function l(){return d(n.getUint8(E),1)}function p(){if(255!==n.getUint8(E))return!1;E+=1;return!0}function y(a){if(24>a)return a;if(24===a)return l();if(25===a)return d(n.getUint16(E),2);if(26===a)return d(n.getUint32(E),4);if(27===a)return d(n.getUint32(E),4)*k+d(n.getUint32(E),
4);if(31===a)return-1;throw"Invalid length encoding";}function m(a){var b=l();if(255===b)return-1;var c=y(b&31);if(0>c||b>>5!==a)throw"Invalid indefinite length element";return c}function e(a,b){for(var c=0;c<b;++c){var e=l();e&128&&(224>e?(e=(e&31)<<6|l()&63,--b):240>e?(e=(e&15)<<12|(l()&63)<<6|l()&63,b-=2):(e=(e&15)<<18|(l()&63)<<12|(l()&63)<<6|l()&63,b-=3));65536>e?a.push(e):(e-=65536,a.push(55296|e>>10),a.push(56320|e&1023))}}function z(){var a=l(),k=a>>5;a&=31;if(7===k)switch(a){case 25:a:{k=
new ArrayBuffer(4);k=new DataView(k);a=d(n.getUint16(E),2);var t=a&31744,G=a&1023;if(31744===t)t=261120;else if(0!==t)t+=114688;else if(0!==G){k=G*f;break a}k.setUint32(0,(a&32768)<<16|t<<13|G<<13);k=k.getFloat32(0)}return k;case 26:return d(n.getFloat32(E),4);case 27:return d(n.getFloat64(E),8)}a=y(a);if(0>a&&(2>k||6<k))throw"Invalid length";switch(k){case 0:return a;case 1:return-1-a;case 2:if(0>a){t=[];for(G=0;0<=(a=m(k));)G+=a,t.push(h(a));a=new Uint8Array(G);for(k=G=0;k<t.length;++k){var v=new Uint8Array(t[k]);
a.set(v,G);G+=v.length}return a}return h(a);case 3:t=[];if(0>a)for(;0<=(a=m(k));)e(t,a);else e(t,a);return String.fromCharCode.apply(null,t);case 4:if(0>a)for(t=[];!p();)t.push(z());else for(t=Array(a),k=0;k<a;++k)t[k]=z();return t;case 5:t={};for(k=0;k<a||0>a&&!p();++k)G=z(),t[G]=z();return t;case 6:return b(z());case 7:switch(a){case 20:return!1;case 21:return!0;case 22:return null;case 23:return q;default:return c()}}}var n=new DataView(a),E=0;"function"!==typeof b&&(b=function(a){return a});"function"!==
typeof c&&(c=function(){return q});var G=z();if(E!==a.byteLength)throw"Remaining bytes";return G};c.encode=function(b){function c(a){for(var b=u.byteLength,c=e+a;b<c;)b*=2;if(b!==u.byteLength){c=y;u=new ArrayBuffer(b);y=new DataView(u);b=e+3>>2;for(var d=0;d<b;++d)y.setUint32(4*d,c.getUint32(4*d))}m=a;return y}function l(a){c(1).setUint8(e,a);e+=m}function d(a){for(var b=c(a.length),d=0;d<a.length;++d)b.setUint8(e+d,a[d]);e+=m}function f(a,b){if(24>b)l(a<<5|b);else if(256>b)l(a<<5|24),l(b);else{if(65536>
b)l(a<<5|25),c(2).setUint16(e,b);else if(4294967296>b)l(a<<5|26),c(4).setUint32(e,b);else{l(a<<5|27);a=b%k;b=(b-a)/k;var d=c(8);d.setUint32(e,b);d.setUint32(e+4,a)}e+=m}}function t(b){var h;if(!1===b)return l(244);if(!0===b)return l(245);if(null===b)return l(246);if(b===q)return l(247);switch(a(b)){case "number":if(Math.floor(b)===b){if(0<=b&&b<=n)return f(0,b);if(-n<=b&&0>b)return f(1,-(b+1))}l(251);c(8).setFloat64(e,b);e+=m;break;case "string":var z=[];for(h=0;h<b.length;++h){var p=b.charCodeAt(h);
128>p?z.push(p):(2048>p?z.push(192|p>>6):(55296>p?z.push(224|p>>12):(b.charCodeAt(++h),z.push(240|p>>18),z.push(128|p>>12&63)),z.push(128|p>>6&63)),z.push(128|p&63))}f(3,z.length);return d(new Uint8Array(z));default:if(Array.isArray(b))for(z=b.length,f(4,z),h=0;h<z;++h)t(b[h]);else if(b instanceof Uint8Array)f(2,b.length),d(b);else if(b instanceof ArrayBuffer)b=new Uint8Array(b),f(2,b.length),d(b);else for(p=Object.keys(b),z=p.length,f(5,z),h=0;h<z;++h){var k=p[h];t(k);t(b[k])}}}var u=new ArrayBuffer(256),
y=new DataView(u),m,e=0;t(b);if("slice"in u)return u.slice(0,e);b=new ArrayBuffer(e);for(var z=new DataView(b),D=0;D<e;++D)z.setUint8(D,y.getUint8(D));return b};var f=Math.pow(2,-24),k=Math.pow(2,32),n=Math.pow(2,53)},6390:function(b,c,a){Object.defineProperty(c,"__esModule",{value:!0});c.extractAuthenticatorDataFromAttestationObject=function(a){return(0,f.decode)(a).authData};var f=a(6810)},7609:function(b,c,a){function f(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);
b&&(e=e.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable}));c.push.apply(c,e)}return c}function k(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?f(Object(c),!0).forEach(function(b){(0,m.default)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):f(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function n(a){var b=l();return function(){var c=
(0,t.default)(a);if(b){var e=(0,t.default)(this).constructor;c=Reflect.construct(c,arguments,e)}else c=c.apply(this,arguments);return(0,v.default)(this,c)}}function l(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(G){return!1}}var h=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c.KatalMetricsDriverSushi=void 0;var p=
h(a(6115)),d=h(a(1655)),v=h(a(4993)),t=h(a(3808)),u=h(a(6690)),y=h(a(9728)),m=h(a(8416));b=h(a(4864));var e=h(a(2952)),z=h(a(4873)),D={test:"com.amazon.eel.katal.metrics.core.nexus.gamma",prod:"com.amazon.eel.katal.metrics.core.nexus"};a=function(){function a(){(0,u.default)(this,a);(0,m.default)(this,"context",{})}(0,y.default)(a,[{key:"withSushiClient",value:function(a){console.log("withSushi client...");this.context.sushiClient=a;return this}},{key:"withDomainRealm",value:function(a,b){this.context.domain=
a;this.context.realm=b;return this}},{key:"withCustomProducer",value:function(a){this.context.sushiProducer=a;return this}},{key:"withCustomSourceGroup",value:function(a){this.context.sourceGroupId=a;return this}},{key:"withErrorHandler",value:function(a){this.context.errorHandler=a;return this}},{key:"withSushiClientOptions",value:function(a){this.context.sushiClientOptions=a;return this}},{key:"withSushiClientTransportOverride",value:function(a){this.context.sushiClientTransportOverride=a;return this}},
{key:"build",value:function(){return new E(this.context)}}]);return a}();var E=function(a){function b(a){(0,u.default)(this,b);var e=c.call(this);(0,m.default)((0,p.default)(e),"sushi",void 0);(0,m.default)((0,p.default)(e),"producerId",void 0);(0,m.default)((0,p.default)(e),"sourceGroupId",void 0);(0,m.default)((0,p.default)(e),"errorHandler",void 0);(0,m.default)((0,p.default)(e),"combinedErrorHandler",function(a){if(e.errorHandler)try{e.errorHandler(a);return}catch(P){console.error("Error handling error publishing metrics:"),
console.error(P)}e.defaultErrorHandler(a)});var d=a.domain,h=a.realm,z=a.errorHandler,l=a.sushiProducer;l=void 0===l?"katal":l;var f=a.sushiClientOptions,k=a.sushiClientTransportOverride,y=a.sourceGroupId||D[d]||D.test;e.sushi=a.sushiClient||e.buildSushiClient(d,h,y,f,k);e.errorHandler=z;e.producerId=l;e.sourceGroupId=y;return e}(0,d.default)(b,a);var c=n(b);(0,y.default)(b,[{key:"beforeUnload",value:function(a){this.sushi.onSushiUnload(a)}},{key:"defaultErrorHandler",value:function(a){console.error("Error publishing metrics:");
console.error(a)}},{key:"withErrorHandling",value:function(a){try{return a()}catch(ka){this.combinedErrorHandler(ka)}}},{key:"buildSushiClient",value:function(a,c,e,d,m){if(!a||!c)throw Error("KatalMetricsDriverSushi requires a domain and realm to build a sushi client.");return new z.default(b.getRealmName(c),e,this.combinedErrorHandler,d,m)}},{key:"publish",value:function(a,b,c){var d=this,m=3>arguments.length?arguments[1]:arguments[2];this.withErrorHandling(function(){if(e.default.List===a.type)a.metricList.forEach(function(a){d.publish(a,
m)});else{var b=d.mapObjectTypeToNexusSchema(a.type),c=k(k({},m.context),{},{metricKey:a.name,value:a.value});a.isMonitor&&(c.isMonitor=!0);c.cloudWatchDimensions&&delete c.cloudWatchDimensions;d.sushi.reset();d.sushi.event(c,d.producerId,b,{ssd:1})}})}},{key:"mapObjectTypeToNexusSchema",value:function(a){switch(a){case e.default.String:return"katal.client.metrics.String.2";case e.default.Counter:return"katal.client.metrics.Counter.3";case e.default.Timer:return"katal.client.metrics.Timer.2";default:throw Error("Unknown type ".concat(a,
" when publishing metric object."));}}}],[{key:"getRealmName",value:function(a){switch(a){case "NAAmazon":case "USAmazon":return z.default.REGIONS.NA;case "EUAmazon":return z.default.REGIONS.EU;case "FEAmazon":case "JPAmazon":return z.default.REGIONS.FE;case "CNAmazon":return z.default.REGIONS.CN;default:return a}}}]);return b}(b.default);c.KatalMetricsDriverSushi=E;(0,m.default)(E,"Builder",a)},8277:function(b,c,a){Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;a(6470);b=a(7609).KatalMetricsDriverSushi;
c["default"]=b},7700:function(b,c,a){function f(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);b&&(e=e.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable}));c.push.apply(c,e)}return c}function k(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?f(Object(c),!0).forEach(function(b){(0,h.default)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):
f(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}b=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var n=b(a(6690)),l=b(a(9728)),h=b(a(8416)),p=b(a(1051)),d=b(a(5292)),v=b(a(2721)),t=a(8184),u=a(1582),y=["site","serviceName","methodName"],m=function(){function a(){var b=0<arguments.length&&arguments[0]!==q?arguments[0]:{};(0,n.default)(this,a);this.context=k({},b)}(0,l.default)(a,[{key:"merge",value:function(b){if(!b)return this;
if(b instanceof a.Builder)throw Error("KatalMetricsContext.Builder object passed instead of KatalMetricsContext.  Try calling .build() method.");b=b instanceof a?b.context:b;b=k(k(k({},this.context),b),{},{relatedMetrics:(0,t.mergeLists)(this.context.relatedMetrics,b.relatedMetrics),relatedMetricsSingleAction:(0,t.mergeLists)(this.context.relatedMetricsSingleAction,b.relatedMetricsSingleAction),cloudWatchDimensions:(0,t.mergeLists)(this.context.cloudWatchDimensions,b.cloudWatchDimensions)});return new a(b)}},
{key:"withoutRelatedMetricsSingleAction",value:function(){return new a(k(k({},this.context),{},{relatedMetricsSingleAction:q}))}},{key:"driverContext",value:function(){var b=k({},this.context);delete b.relatedMetrics;delete b.relatedMetricsSingleAction;delete b.requestId;this.context.requestId&&(b.actionId=(0,u.embedRequestId)(b.actionId,this.context.requestId));return new a(b)}},{key:"getFields",value:function(){return k({},this.context)}},{key:"validationError",value:function(){var a=this,b;return(b=
(0,v.default)(y,function(b){if(a.context[b]==q)return Error("Field ".concat(b," is required, but it is ").concat(a.context[b]))}))?b:(0,v.default)(Object.keys(this.context),function(b){return a.validateField(b)})}},{key:"validateField",value:function(a){var b=this.context[a],c="field ".concat(a);switch(a){case "site":case "serviceName":if(-1<b.indexOf("/"))return Error("Expected ".concat(c," to contain only valid characters, but it was ").concat(b,".  It cannot contain a slash."));case "methodName":case "actionId":return(0,
p.default)(b,c);case "cloudWatchDimensions":return(0,d.default)(b||[])}}}]);return a}();c["default"]=m;(0,h.default)(m,"Builder",function(){function a(){(0,n.default)(this,a);(0,h.default)(this,"context",{})}(0,l.default)(a,[{key:"withSite",value:function(a){this.context.site=a;return this}},{key:"withServiceName",value:function(a){this.context.serviceName=a;return this}},{key:"withMethodName",value:function(a){this.context.methodName=a;return this}},{key:"withActionId",value:function(a){this.context.actionId=
a;return this}},{key:"withRequestId",value:function(a){this.context.requestId=a;return this}},{key:"withCloudWatchDimensions",value:function(a){this.context.cloudWatchDimensions=a;return this}},{key:"withRelatedMetrics",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];this.context.relatedMetrics=b;return this}},{key:"addRelatedMetrics",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];this.context.relatedMetrics=(0,t.mergeLists)(this.context.relatedMetrics,
b);return this}},{key:"withRelatedMetricsSingleAction",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];this.context.relatedMetricsSingleAction=b;return this}},{key:"addRelatedMetricsSingleAction",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];this.context.relatedMetricsSingleAction=(0,t.mergeLists)(this.context.relatedMetricsSingleAction,b);return this}},{key:"build",value:function(){return new m(this.context)}}]);return a}())},
8142:function(b,c,a){b=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var f=b(a(6690)),k=b(a(9728)),n=b(a(8416)),l=b(a(1171)),h=b(a(7700)),p=a(5607),d=a(8184),v=a(5742),t=a(1582),u=function(a){console.error("Error publishing metrics:");console.error(a)};a=function(){function a(b){var c=this,d=1<arguments.length&&arguments[1]!==q?arguments[1]:u,m=2<arguments.length&&arguments[2]!==q?arguments[2]:new h.default;(0,f.default)(this,a);(0,n.default)(this,"combinedErrorHandler",
function(a){try{c.errorHandler(a)}catch(G){console.error("Error handling error publishing metrics:"),console.error(G),u(a)}});if(m instanceof h.default.Builder)throw Error("KatalMetricsContext.Builder object passed instead of KatalMetricsContext.  Try calling .build() method.");this.driver=b;this.errorHandler=d;this.context=m instanceof h.default?m:new h.default(m)}(0,k.default)(a,[{key:"withErrorHandling",value:function(a){try{return a()}catch(e){this.combinedErrorHandler(e)}}},{key:"getAdditionalRelatedMetrics",
value:function(a){a=a instanceof h.default?a.context:a;var b=this.getBaseRelatedMetrics();return(0,d.mergeLists)(b,a.relatedMetrics)}},{key:"getBaseRelatedMetrics",value:function(){return(0,d.mergeLists)(this.context.context.relatedMetrics,this.context.context.relatedMetricsSingleAction)}},{key:"publish",value:function(a){var b=this;this.withErrorHandling(function(){if(!a)throw Error("Cannot publish undefined/null metric object");if(p.Object.Types.List===a.type)a.metricList.forEach(function(a){b.publish(a)});
else{var c=b.context.driverContext(),e=c.validationError();if(e)throw e;if(e=a.validationError())throw e;(0,v.dispatchMetricEvent)(a,c);b.driver.publish(a,c)}})}},{key:"newChildPublisher",value:function(b){return new a(this.driver,this.errorHandler,this.context.merge(b))}},{key:"newChildActionPublisher",value:function(b){var c=this._generateActionid(b);c=this.context.withoutRelatedMetricsSingleAction().merge({actionId:c}).merge(b);var d=new a(this.driver,this.errorHandler,c);(b=!b||b instanceof h.default.Builder?
this.getBaseRelatedMetrics():this.getAdditionalRelatedMetrics(b))&&b.forEach(function(a){d.publish(a)});return d}},{key:"newChildActionPublisherChained",value:function(a){var b=this._generateActionid(a),c=(0,t.embedRequestId)(b,this.context.context.requestId);c=[new p.String("parentActionId",c)];a=(new h.default({actionId:b,relatedMetricsSingleAction:c})).merge(a);return this.newChildActionPublisher(a)}},{key:"newChildActionPublisherChainedForMethod",value:function(a,b){return this.newChildActionPublisherChained((new h.default({methodName:a})).merge(b))}},
{key:"newChildActionPublisherForMethod",value:function(a,b){return this.newChildActionPublisher((new h.default({methodName:a})).merge(b))}},{key:"newChildActionPublisherForInitialization",value:function(a){return this.newChildActionPublisherForMethod("Initialization",a)}},{key:"publishString",value:function(a,b){this.publish(new p.String(a,b))}},{key:"publishStringTruncate",value:function(a,b){a=new p.String(a,b);a.truncate=!0;this.publish(a)}},{key:"publishCounter",value:function(a,b){this.publish(new p.Counter(a,
b))}},{key:"publishTimer",value:function(a,b){this.publish(new p.Timer(a,b))}},{key:"publishCounterMonitor",value:function(a,b){this.publish((new p.Counter(a,b)).withMonitor())}},{key:"publishTimerMonitor",value:function(a,b){this.publish((new p.Timer(a,b)).withMonitor())}},{key:"_generateActionid",value:function(a){return a&&(a=a.context?a.context:a,a.actionId)?a.actionId:(0,l.default)()}}]);return a}();c["default"]=a},5274:function(b,c){Object.defineProperty(c,"__esModule",{value:!0});c.DEFAULT_ERROR_HANDLER=
void 0;c.DEFAULT_ERROR_HANDLER=function(a){throw a;}},4864:function(b,c,a){b=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var f=b(a(6690)),k=b(a(9728));a=function(){function a(){(0,f.default)(this,a)}(0,k.default)(a,[{key:"publish",value:function(a,b){throw Error("KatalMetricsDriver is an abstract class, please choose a driver and use that instead");}}]);return a}();c["default"]=a},2721:function(b,c){Object.defineProperty(c,"__esModule",{value:!0});c["default"]=function(a,
b){var c=q;a.some(function(a){c=b(a);return null!=c});return c}},469:function(b,c){Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;c["default"]=Object.values?Object.values:function(a){return Object.keys(a).map(function(b){return a[b]})}},8059:function(b,c,a){b=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c["default"]=function(a,b){if("number"!==typeof a)return Error("Expected ".concat(b," to have type 'number', but it was type '").concat((0,f.default)(a),"'"));if(0>
a)return Error("Expected ".concat(b," to be positive, but it was ").concat(a));if(!isFinite(a)||Math.floor(a)!==a)return Error("Expected ".concat(b," to be an integer, but it was ").concat(a))};var f=b(a(8698))},1051:function(b,c,a){b=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c["default"]=function(a,b){if("string"!==typeof a)return Error("Expected ".concat(b," to be a string, but it was a ").concat((0,f.default)(a)));if(a.length>n)return Error("Expected ".concat(b," to be less than ").concat(n,
" characters, but it was ").concat(a.length," characters"));if(1>a.length)return Error("Expected ".concat(b," to be non-blank"));if(!k.test(a))return Error("Expected ".concat(b," to contain only valid characters, but it was ").concat(a,".  It can only contain letters, numbers, and these symbols: .:@_/-"))};var f=b(a(8698)),k=/^[A-Za-z0-9.:@_/-]+$/,n=127},1582:function(b,c){Object.defineProperty(c,"__esModule",{value:!0});c.embedRequestId=function(a,b){return b?[b,a].join("::"):a}},8184:function(b,
c,a){b=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c.mergeLists=function(a,b){return a||b?[].concat((0,f.default)(a||[]),(0,f.default)(b||[])):q};var f=b(a(861))},5742:function(b,c){Object.defineProperty(c,"__esModule",{value:!0});c.dispatchMetricEvent=function(a,b){if("undefined"!==typeof x){if("function"===typeof CustomEvent){var c=new CustomEvent("katal.metrics.publish",{detail:{metric:a,context:b.getFields()}});x.dispatchEvent(c)}(c=x.__KATAL_METRICS_EXTENSION__)&&c.publish(a,b.getFields())}}},
5292:function(b,c,a){function f(a,b){if(a.length>h)return Error("Expected Dimension name for value ".concat(b," to be ").concat(h," characters or less, but it was ").concat(a.length," characters"));if(1>a.length)return Error("Expected Dimension name for value ".concat(b," to be non-blank"));if(!n.test(a))return Error("Expected Dimension name for value ".concat(b," to contain only ASCII characters, but it was ").concat(a));if(!l.test(a))return Error("Expected Dimension name for value ".concat(b," to contain at least one non whitespace character, but it was ").concat(a));
if(a.startsWith(":"))return Error("Expected Dimension name for value ".concat(b,' to not start with a colon (":"), but it was ').concat(a));if(b.length>p)return Error("Expected Dimension value for name ".concat(a," to be ").concat(p," characters or less, but it was ").concat(b.length," characters"));if(1>b.length)return Error("Expected Dimension value for name ".concat(a," to be non-blank"));if(!n.test(b))return Error("Expected Dimension value for name ".concat(a," to contain only ASCII characters, but it was ").concat(b));
if(!l.test(b))return Error("Expected Dimension value for name ".concat(a," to contain at least one non whitespace character, but it was ").concat(b,"}"))}b=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c["default"]=function(a){return(0,k.default)(a,function(a){return f(a.name,a.value)})};var k=b(a(2721)),n=/^[\x20-\x7E]+$/,l=/^.*\S+.*$/,h=255,p=1024},5989:function(b,c,a){function f(a){if("function"!==typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(f=function(a){return a?
c:b})(a)}b=a(4836);var k=a(8698);Object.defineProperty(c,"__esModule",{value:!0});Object.defineProperty(c,"CloudWatchDimensions",{enumerable:!0,get:function(){return v.CloudWatchDimensions}});Object.defineProperty(c,"Context",{enumerable:!0,get:function(){return h.default}});Object.defineProperty(c,"ErrorHandler",{enumerable:!0,get:function(){return d.ErrorHandler}});c.Metric=void 0;Object.defineProperty(c,"MetricsDriver",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(c,"Publisher",
{enumerable:!0,get:function(){return l.default}});var n=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!==k(a)&&"function"!==typeof a)return{default:a};if((b=f(b))&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in a)if("default"!==e&&Object.prototype.hasOwnProperty.call(a,e)){var h=d?Object.getOwnPropertyDescriptor(a,e):null;h&&(h.get||h.set)?Object.defineProperty(c,e,h):c[e]=a[e]}c.default=a;b&&b.set(a,c);return c}(a(5607));
c.Metric=n;var l=b(a(8142)),h=b(a(7700)),p=b(a(4864)),d=a(5274),v=a(1128)},199:function(b,c,a){function f(a){var b=k();return function(){var c=(0,v.default)(a);if(b){var m=(0,v.default)(this).constructor;c=Reflect.construct(c,arguments,m)}else c=c.apply(this,arguments);return(0,d.default)(this,c)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,
[],function(){})),!0}catch(y){return!1}}b=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var n=b(a(6690)),l=b(a(9728)),h=b(a(1588)),p=b(a(1655)),d=b(a(4993)),v=b(a(3808)),t=b(a(8116)),u=b(a(8059));a=function(a){function b(a){var e=1<arguments.length&&arguments[1]!==q?arguments[1]:0;(0,n.default)(this,b);var d=c.call(this,a);d.value=e;return d}(0,p.default)(b,a);var c=f(b);(0,l.default)(b,[{key:"value",get:function(){return this._value},set:function(a){this._value=Math.round(a)}},
{key:"type",get:function(){return t.default.Types.Counter}},{key:"add",value:function(a){this.value+=a}},{key:"canMonitor",get:function(){return!0}},{key:"validationError",value:function(){var a=(0,h.default)((0,v.default)(b.prototype),"validationError",this).call(this);return a?a:(0,u.default)(this.value,"field value in Counter metrics object '".concat(this.name,"'"))}}]);return b}(t.default);c["default"]=a},6673:function(b,c,a){function f(a){var b=k();return function(){var c=(0,v.default)(a);if(b){var m=
(0,v.default)(this).constructor;c=Reflect.construct(c,arguments,m)}else c=c.apply(this,arguments);return(0,d.default)(this,c)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}var n=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var l=n(a(6690)),h=n(a(9728)),p=n(a(1655)),d=n(a(4993)),
v=n(a(3808));b=n(a(8416));var t=n(a(4053)),u=n(a(2545));a=function(a){function b(a){(0,l.default)(this,b);return c.call(this,"".concat(b.HTTP_REQUEST_PREFIX,".").concat(a))}(0,p.default)(b,a);var c=f(b);(0,h.default)(b,[{key:"url",get:function(){return this.getNamedMetricValue(b.URL_SUFFIX)},set:function(a){this.setOrDeleteNamedMetricValue(b.URL_SUFFIX,u.default,a)}},{key:"urlMetric",get:function(){return this.getNamedMetric(b.URL_SUFFIX)}},{key:"statusCode",get:function(){return this.getNamedMetricValue(b.STATUS_CODE_SUFFIX)},
set:function(a){this.setOrDeleteNamedMetricValue(b.STATUS_CODE_SUFFIX,u.default,a)}},{key:"statusCodeMetric",get:function(){return this.getNamedMetric(b.STATUS_CODE_SUFFIX)}},{key:"statusText",get:function(){return this.getNamedMetricValue(b.STATUS_TEXT_SUFFIX)},set:function(a){this.setOrDeleteNamedMetricValue(b.STATUS_TEXT_SUFFIX,u.default,a)}},{key:"statusTextMetric",get:function(){return this.getNamedMetric(b.STATUS_TEXT_SUFFIX)}}]);return b}(t.default);c["default"]=a;(0,b.default)(a,"HTTP_REQUEST_PREFIX",
"HTTPRequest");(0,b.default)(a,"URL_SUFFIX","URL");(0,b.default)(a,"STATUS_CODE_SUFFIX","StatusCode");(0,b.default)(a,"STATUS_TEXT_SUFFIX","StatusText")},21:function(b,c,a){function f(a){var b=k();return function(){var c=(0,d.default)(a);if(b){var h=(0,d.default)(this).constructor;c=Reflect.construct(c,arguments,h)}else c=c.apply(this,arguments);return(0,p.default)(this,c)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;
try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}var n=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var l=n(a(6690)),h=n(a(1655)),p=n(a(4993)),d=n(a(3808));b=n(a(8416));a=function(a){function b(){(0,l.default)(this,b);return c.call(this,b.INITIALIZE_METRIC_NAME)}(0,h.default)(b,a);var c=f(b);return b}(n(a(4053)).default);c["default"]=a;(0,b.default)(a,"INITIALIZE_METRIC_NAME","Initialization")},8981:function(b,
c,a){function f(a){var b=k();return function(){var c=(0,d.default)(a);if(b){var e=(0,d.default)(this).constructor;c=Reflect.construct(c,arguments,e)}else c=c.apply(this,arguments);return(0,p.default)(this,c)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(u){return!1}}b=a(4836);Object.defineProperty(c,"__esModule",{value:!0});
c["default"]=void 0;var n=b(a(6690)),l=b(a(9728)),h=b(a(1655)),p=b(a(4993)),d=b(a(3808)),v=b(a(124)),t=b(a(469));a=function(a){function b(a){(0,n.default)(this,b);a=c.call(this,a);a.namedMetrics={};return a}(0,h.default)(b,a);var c=f(b);(0,l.default)(b,[{key:"metricList",get:function(){return(0,t.default)(this.namedMetrics)}},{key:"setNamedMetric",value:function(a,b){var c=this.getNameForSubMetric(a);b=b(c);b.canMonitor&&(b.isMonitor=this.isMonitor);this.namedMetrics[a]=b}},{key:"setOrDeleteNamedMetricValue",
value:function(a,b,c){c==q?this.deleteNamedMetric(a):this.getOrCreateNamedMetric(a,function(a){return new b(a,c)}).value=c}},{key:"getOrCreateNamedMetric",value:function(a,b){this.namedMetrics[a]||this.setNamedMetric(a,b);return this.namedMetrics[a]}},{key:"getNamedMetric",value:function(a){return this.namedMetrics[a]}},{key:"deleteNamedMetric",value:function(a){delete this.namedMetrics[a]}},{key:"getNamedMetricValue",value:function(a){return(a=this.getNamedMetric(a))?a.value:q}},{key:"getNameForSubMetric",
value:function(a){return"".concat(this.name,".").concat(a)}}]);return b}(v.default);c["default"]=a},8116:function(b,c,a){var f=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var k=f(a(8698)),n=f(a(6690)),l=f(a(9728));b=f(a(8416));var h=f(a(1051));a=f(a(2952));f=function(){function a(b){(0,n.default)(this,a);this._name=b;this._isMonitor=!1}(0,l.default)(a,[{key:"name",get:function(){return this._name}},{key:"metricKey",get:function(){return this._name}},{key:"withMonitor",
value:function(){this.isMonitor=0<arguments.length&&arguments[0]!==q?arguments[0]:!0;return this}},{key:"isMonitor",get:function(){return this._isMonitor},set:function(a){this._isMonitor=!!a}},{key:"canMonitor",get:function(){throw Error("Subclass of KatalMetricObject must implement canMonitor");}},{key:"type",get:function(){throw Error("Subclass of KatalMetricObject must implement type getter");}},{key:"validationError",value:function(){return this.isMonitor!==q&&"boolean"!==typeof this.isMonitor?
Error("Field isMonitor should be a boolean, but it was a ".concat((0,k.default)(this.isMonitor))):(0,h.default)(this.name,"field name")}}]);return a}();c["default"]=f;(0,b.default)(f,"Types",a.default)},124:function(b,c,a){function f(a){var b=k();return function(){var c=(0,t.default)(a);if(b){var e=(0,t.default)(this).constructor;c=Reflect.construct(c,arguments,e)}else c=c.apply(this,arguments);return(0,v.default)(this,c)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;
if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(m){return!1}}b=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var n=b(a(6690)),l=b(a(9728)),h=b(a(1588)),p=b(a(3788)),d=b(a(1655)),v=b(a(4993)),t=b(a(3808)),u=b(a(8116)),y=b(a(2721));a=function(a){function b(a){(0,n.default)(this,b);return c.call(this,a)}(0,d.default)(b,a);var c=f(b);(0,l.default)(b,[{key:"metricList",get:function(){throw Error("Subclass of KatalMetricObjectList must implement metricList getter");
}},{key:"isMonitor",get:function(){return(0,h.default)((0,t.default)(b.prototype),"isMonitor",this)},set:function(a){(0,p.default)((0,t.default)(b.prototype),"isMonitor",a,this,!0);this.metricList.forEach(function(b){b.canMonitor&&(b.isMonitor=a)})}},{key:"canMonitor",get:function(){return!0}},{key:"type",get:function(){return u.default.Types.List}},{key:"validationError",value:function(){return(0,y.default)(this.metricList,function(a){return a.validationError()})}}]);return b}(u.default);c["default"]=
a},2545:function(b,c,a){function f(a){var b=k();return function(){var c=(0,u.default)(a);if(b){var e=(0,u.default)(this).constructor;c=Reflect.construct(c,arguments,e)}else c=c.apply(this,arguments);return(0,t.default)(this,c)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}b=a(4836);Object.defineProperty(c,
"__esModule",{value:!0});c["default"]=void 0;var n=b(a(8698)),l=b(a(6690)),h=b(a(9728)),p=b(a(6115)),d=b(a(1588)),v=b(a(1655)),t=b(a(4993)),u=b(a(3808)),y=b(a(8416)),m=b(a(8116));a=function(a){function b(a,e){(0,l.default)(this,b);a=c.call(this,a);(0,y.default)((0,p.default)(a),"truncate",!1);a.value=e;return a}(0,v.default)(b,a);var c=f(b);(0,h.default)(b,[{key:"value",get:function(){return this._value},set:function(a){if("number"===typeof a||"boolean"===typeof a)a=a.toString();this._value=a}},{key:"type",
get:function(){return m.default.Types.String}},{key:"canMonitor",get:function(){return!1}},{key:"validationError",value:function(){var a=(0,d.default)((0,u.default)(b.prototype),"validationError",this).call(this);if(a)return a;if("string"!==typeof this.value)return Error("Expected field value in String metrics object '".concat(this.name,"' to be type string, but it was ").concat((0,n.default)(this.value)));if(this.value.length>b.MAX_SIZE)if(this.truncate)this.value=this.value.substring(0,b.MAX_SIZE);
else return Error("Expected field value in String metrics object '".concat(this.name,"' to be ").concat(b.MAX_SIZE," characters or less, but it was ").concat(this.value.length," characters."))}}]);return b}(m.default);c["default"]=a;(0,y.default)(a,"MAX_SIZE",256)},4053:function(b,c,a){function f(a){var b=k();return function(){var c=(0,v.default)(a);if(b){var e=(0,v.default)(this).constructor;c=Reflect.construct(c,arguments,e)}else c=c.apply(this,arguments);return(0,d.default)(this,c)}}function k(){if("undefined"===
typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(m){return!1}}var n=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var l=n(a(6690)),h=n(a(9728)),p=n(a(1655)),d=n(a(4993)),v=n(a(3808));b=n(a(8416));var t=n(a(8981)),u=n(a(4392)),y=n(a(199));a=function(a){function b(a){(0,l.default)(this,b);a=c.call(this,a);a.setNamedMetric(b.LATENCY_SUFFIX,
function(a){return new u.default(a)});a.setNamedMetric(b.FAILURE_SUFFIX,function(a){return new y.default(a,1)});return a}(0,p.default)(b,a);var c=f(b);(0,h.default)(b,[{key:"setFailure",value:function(){this.failureMetric.value=(0<arguments.length&&arguments[0]!==q?arguments[0]:1)?1:0}},{key:"setSuccess",value:function(){this.setFailure(!1)}},{key:"setLatency",value:function(a){this.latencyMetric.value=a}},{key:"latencyMetric",get:function(){return this.getNamedMetric(b.LATENCY_SUFFIX)}},{key:"failureMetric",
get:function(){return this.getNamedMetric(b.FAILURE_SUFFIX)}}]);return b}(t.default);c["default"]=a;(0,b.default)(a,"LATENCY_SUFFIX","Latency");(0,b.default)(a,"FAILURE_SUFFIX","Failure")},1741:function(b,c,a){function f(a){var b=k();return function(){var c=(0,v.default)(a);if(b){var h=(0,v.default)(this).constructor;c=Reflect.construct(c,arguments,h)}else c=c.apply(this,arguments);return(0,d.default)(this,c)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;
if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}b=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var n=b(a(6690)),l=b(a(9728)),h=b(a(1588)),p=b(a(1655)),d=b(a(4993)),v=b(a(3808)),t=b(a(8116)),u=b(a(8059));a=function(a){function b(a,e){(0,n.default)(this,b);a=c.call(this,a);a.value=e;return a}(0,p.default)(b,a);var c=f(b);(0,l.default)(b,[{key:"value",get:function(){return this._value},
set:function(a){this._value=a==q?a:Math.round(a)}},{key:"type",get:function(){return t.default.Types.Timer}},{key:"canMonitor",get:function(){return!0}},{key:"validationError",value:function(){var a=(0,h.default)((0,v.default)(b.prototype),"validationError",this).call(this);return a?a:(0,u.default)(this.value,"field value in Timer metrics object '".concat(this.name,"'"))}}]);return b}(t.default);c["default"]=a},4392:function(b,c,a){function f(a){var b=k();return function(){var c=(0,t.default)(a);
if(b){var e=(0,t.default)(this).constructor;c=Reflect.construct(c,arguments,e)}else c=c.apply(this,arguments);return(0,v.default)(this,c)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(u){return!1}}b=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var n=b(a(6690)),l=b(a(9728)),h=b(a(3788)),
p=b(a(1588)),d=b(a(1655)),v=b(a(4993)),t=b(a(3808));a=function(a){function b(a,d){(0,n.default)(this,b);a=c.call(this,a,q);a.start(d);a._value=q;return a}(0,d.default)(b,a);var c=f(b);(0,l.default)(b,[{key:"start",value:function(a){this._startTime=a||this.now()}},{key:"stop",value:function(a){return this._stopTime=a||this.now()}},{key:"isStopped",get:function(){return this._stopTime!==q}},{key:"value",get:function(){(0,p.default)((0,t.default)(b.prototype),"value",this)===q&&(this.isStopped||this.stop(),
(0,h.default)((0,t.default)(b.prototype),"value",this.stopTime-this.startTime,this,!0));return(0,p.default)((0,t.default)(b.prototype),"value",this)},set:function(a){(0,h.default)((0,t.default)(b.prototype),"value",a,this,!0)}},{key:"startTime",get:function(){return this._startTime}},{key:"stopTime",get:function(){return this._stopTime}},{key:"now",value:function(){return performance.now()}}]);return b}(b(a(1741)).default);c["default"]=a},2952:function(b,c){Object.defineProperty(c,"__esModule",{value:!0});
c["default"]=void 0;var a;b=a||(a={});b.String="String";b.Counter="Counter";b.Timer="Timer";b.List="List";c["default"]=a},5607:function(b,c,a){b=a(4836);Object.defineProperty(c,"__esModule",{value:!0});Object.defineProperty(c,"Counter",{enumerable:!0,get:function(){return n.default}});Object.defineProperty(c,"HttpRequest",{enumerable:!0,get:function(){return v.default}});Object.defineProperty(c,"Initialization",{enumerable:!0,get:function(){return d.default}});Object.defineProperty(c,"Object",{enumerable:!0,
get:function(){return f.default}});Object.defineProperty(c,"String",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(c,"TimedAttempt",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(c,"Timer",{enumerable:!0,get:function(){return l.default}});Object.defineProperty(c,"TimerStopwatch",{enumerable:!0,get:function(){return h.default}});var f=b(a(8116)),k=b(a(2545)),n=b(a(199)),l=b(a(1741)),h=b(a(4392)),p=b(a(4053)),d=b(a(21)),v=b(a(6673))},1128:function(b,
c){Object.defineProperty(c,"__esModule",{value:!0})},4873:function(b,c,a){function f(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable}));c.push.apply(c,d)}return c}function k(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?f(c,!0).forEach(function(b){(0,n.default)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,
Object.getOwnPropertyDescriptors(c)):f(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}b=a(4836);Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var n=b(a(8416)),l=b(a(6690)),h=b(a(9728));a=function(){function a(){var b=0<arguments.length&&arguments[0]!==q?arguments[0]:a.REGIONS.NA,c=1<arguments.length?arguments[1]:q,h=2<arguments.length?arguments[2]:q,f=3<arguments.length&&arguments[3]!==q?arguments[3]:{},p=4<arguments.length?
arguments[4]:q;(0,l.default)(this,a);b=a.createSushiUrl(b,c);f=a.createCsmUserContext(b,f);this.ue_csm=this.setupMockCSMObject(f);this.encapsulatedWindow=this.setupMockWindow(this.ue_csm);this.transportationClientCode(this.ue_csm,x);p&&(this.ue_csm.ue._sBcn={isSupported:!0,send:function(a,b){p(a,b);return!0}});this.clientCode(this.ue_csm,this.encapsulatedWindow);this.errorHandler=h}(0,h.default)(a,null,[{key:"createSushiUrl",value:function(b,c){if(!c)throw Error("Sushi Driver was not provided with a source group.");
switch(b){case a.REGIONS.NA:b="unagi-na";break;case a.REGIONS.EU:b="unagi-eu";break;case a.REGIONS.FE:b="unagi-fe";break;case a.REGIONS.CN:b="unagi-cn";break;default:throw Error("Unrecognized region '".concat(b,"' provided to SushiClient."));}return"https://".concat(b,".amazon.com/1/events/").concat(c)}},{key:"createCsmUserContext",value:function(a){return k({hiPriFlushInterval:1E3,lowPriFlushInterval:1E4,requestId:"1",errorChannel:"jserr",sessionStorageWrapper:q,errorHandlerFunction:console.log,
sushiUrl:a},1<arguments.length&&arguments[1]!==q?arguments[1]:{})}},{key:"REGIONS",get:function(){return{NA:"NA",EU:"EU",FE:"FE",CN:"CN"}}}]);(0,h.default)(a,[{key:"event",value:function(a,b,c,h){4<arguments.length&&arguments[4]!==q&&arguments[4]&&console.log("SushiClient wrapper publishing the following:",{data:a,producerId:b,schemaId:c,options:h});return this.ue_csm.ue.event(a,b,c,h)}},{key:"reset",value:function(){this.ue_csm.ue.event.reset()}},{key:"onSushiFlush",value:function(a){this.ue_csm.ue.onSushiFlush(a)}},
{key:"onSushiUnload",value:function(a){this.ue_csm.ue.onSushiUnload(a)}},{key:"setupMockCSMObject",value:function(a){var b=this;return{ue_hpsi:a.hiPriFlushInterval,ue_lpsi:a.lowPriFlushInterval,ue:{ssw:a.sessionStorageWrapper,log:function(a,c){b.errorHandler?b.errorHandler(a):console.log("An error has occurred in SushiClient channel "+c,a)},exec:function(a,b){return a},event:function(a,b,c){console.warn("SushiClient CSM stub called in unsupported manner: event()")},attach:function(a,b,c){c=c||x;x.EventTarget&&
x.EventTarget.prototype&&x.EventTarget.prototype.addEventListener?x.EventTarget.prototype.addEventListener.call(c,a,b,!!x.ue_clf):c.addEventListener?c.addEventListener(a,b,!!x.ue_clf):c.attachEvent&&c.attachEvent("on"+a,b)}},ueLogError:a.errorHandlerFunction,ue_surl:a.sushiUrl,ue_id:a.requestId,ue_err_chan:a.errorChannel}}},{key:"setupMockWindow",value:function(a){return{ue_csm:a,ueLogError:a.ueLogError,ue:a.ue,setTimeout:function(a,b){return x.setTimeout(a,b)}}}},{key:"clientCode",value:function(a,
b){a.ue.exec(function(a,b){function c(){for(var a=0;a<arguments.length;a++){var c=arguments[a];try{if(c.isSupported){var e=Y.buildPayload(P,M);var d=c.send(I,e)}else throw dummyException;return d}catch(ab){}}r({m:"All supported clients failed",attribution:"CSMSushiClient_TRANSPORTATION_FAIL",f:"sushi-client.js",logLevel:"ERROR"},b.ue_err_chan||"jserr")}function d(){if(M.length){for(var a=0;a<U.length;a++)U[a]();c(u._sBcn||{},u._ajx||{});M=[];Q={};P={};la=N=L=R=0}}function e(){var a=new Date,b=function(a){return 10>
a?"0"+a:a};return Date.prototype.toISOString?a.toISOString():a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}function h(a){try{return JSON.stringify(a)}catch(Aa){}return null}function l(c,l,m,f){var p=!1;f=f||{};Z++;Z==n&&r({m:"Max number of Sushi Logs exceeded",f:"sushi-client.js",logLevel:"ERROR",attribution:"CSMSushiClient_MAX_CALLS"},b.ue_err_chan||
"jserr");var k;if(k=!(Z>=n))(k=c&&-1<c.constructor.toString().indexOf("Object")&&l&&-1<l.constructor.toString().indexOf("String")&&m&&-1<m.constructor.toString().indexOf("String"))||ia++;k&&(u.count&&u.count("Event:"+m,1),c.producerId=c.producerId||l,c.schemaId=c.schemaId||m,c.timestamp=e(),l=Date.now?Date.now():+new Date,m=Math.random().toString().substring(2,12),c.messageId=a.ue_id+"-"+l+"-"+m,f&&!f.ssd&&(c.sessionId=c.sessionId||a.ue_sid,c.requestId=c.requestId||a.ue_id,c.obfuscatedMarketplaceId=
c.obfuscatedMarketplaceId||a.ue_mid),(l=h(c))?(l=l.length,(M.length==t||L+l>q)&&d(),L+=l,c={data:Y.compressEvent(c)},M.push(c),(f||{}).n?0===ma?d():la||(la=b.setTimeout(d,ma)):N||(N=b.setTimeout(d,Ja)),p=!0):p=!1);!p&&a.ue_int&&console.error("Invalid JS Nexus API call");return p}function f(){if(!Ba){for(var b=0;b<aa.length;b++)aa[b]();for(b=0;b<U.length;b++)U[b]();M.length&&(a.ue_sbuimp&&a.ue&&a.ue.ssw&&(b=h({dct:P,evt:M}),a.ue.ssw("eeldata",b),a.ue.ssw("eelsts","unk")),c(u._sBcn||{}));Ba=!0}}function p(a){aa.push(a)}
function k(a){U.push(a)}var n=1E3,t=499,q=524288,v=function(){},u=a.ue||{},r=u.log||v,x=a.uex||v;(a.uet||v)("bb","ue_sushi_v1",{wb:1});var I=a.ue_surl||"https://unagi-na.amazon.com/1/events/com.amazon.csm.nexusclient.gamma",K=["messageId","timestamp"],M=[],Q={},P={},L=0,R=0,ia=0,Z=0,aa=[],U=[],Ba=!1,la,N,ma=void 0===a.ue_hpsi?1E3:a.ue_hpsi,Ja=void 0===a.ue_lpsi?1E4:a.ue_lpsi,Y=function(){function a(a){Q[a]="#"+R++;P[Q[a]]=a;return Q[a]}function b(c){if(!(c instanceof Function)){if(c instanceof Array){for(var e=
[],d=c.length,h=0;h<d;h++)e[h]=b(c[h]);return e}if(c instanceof Object){e={};for(d in c)c.hasOwnProperty(d)&&(e[Q[d]?Q[d]:a(d)]=-1===K.indexOf(d)?b(c[d]):c[d]);return e}return"string"===typeof c&&(c.length>("#"+R).length||"#"===c.charAt(0))?Q[c]?Q[c]:a(c):c}}return{compressEvent:b,buildPayload:function(){return h({cs:{dct:P},events:M})}}}();(function(){if(u.event&&u.event.isStub){if(a.ue_sbuimp&&a.ue&&a.ue.ssw){var b=a.ue.ssw("eelsts").val;if(b&&"unk"===b&&(b=a.ue.ssw("eeldata").val)){a:{try{var c=
JSON.parse(b);break a}catch($a){}c=null}c&&c.evt instanceof Array&&c.dct instanceof Object&&(M=c.evt,P=c.dct,M&&P&&(d(),a.ue.ssw("eeldata","{}"),a.ue.ssw("eelsts","scs")))}}u.event.replay(function(a){a[3]=a[3]||{};a[3].n=1;l.apply(this,a)});u.onSushiUnload.replay(function(a){p(a[0])});u.onSushiFlush.replay(function(a){k(a[0])})}})();u.attach("beforeunload",f);u.attach("pagehide",f);u._cmps=Y;u.event=l;u.event.reset=function(){Z=0};u.onSushiUnload=p;u.onSushiFlush=k;try{b.P&&b.P.register&&b.P.register("sushi-client",
v)}catch(Ia){a.ueLogError(Ia,{logLevel:"WARN"})}x("ld","ue_sushi_v1",{wb:1})},"Nxs-JS-Client")(a,b)}},{key:"transportationClientCode",value:function(a,b){a.ue.exec(function(a,b){var c=function(){},d=function(){return{send:function(a,e){if(e&&a){if(b.XDomainRequest){var d=new XDomainRequest;d.onerror=c;d.ontimeout=c;d.onprogress=c;d.onload=c;d.timeout=0}else if(b.XMLHttpRequest){if(d=new XMLHttpRequest,!("withCredentials"in d))throw"";}else d=void 0;if(!d)throw"";d.open("POST",a,!0);d.setRequestHeader&&
d.setRequestHeader("Content-type","text/plain");d.send(e)}},isSupported:!0}}(),e=function(){return{send:function(b,c){if(b&&c)if(navigator.sendBeacon(b,c))a.ue_sbuimp&&a.ue&&a.ue.ssw&&a.ue.ssw("eelsts","scs");else throw"";},isSupported:!!navigator.sendBeacon&&!(b.cordova&&b.cordova.platformId&&"ios"==b.cordova.platformId)}}();a.ue._ajx=d;a.ue._sBcn=e},"Transportation-clients")(a,b)}}]);return a}();c["default"]=a},9384:function(b,c){Object.defineProperty(c,"__esModule",{value:!0});c.GetNativeInfoErrorCode=
c.ErrorCode=void 0;c.createErrorResult=function(a,b){return{errorCode:a,errorDetails:{message:b}}};c.createErrorResultForGetNativeInfo=function(a,b){return{errorCode:a,errorDetails:b}};b=function(a){a.UNSUPPORTED_PLATFORM="Unsupported_Platform";a.UNSUPPORTED_MAP_VERSION="Unsupported_MAP_Version";a.INVALID_INPUT="Invalid_Input";a.TIMEOUT_ERROR="Timeout_Error";a.MALFORMED_RESPONSE="Malformed_Response";return a}({});c.ErrorCode=b;b=function(a){a.INTERNAL_ERROR="Internal_Error";a.UNSUPPORTED_PLATFORM=
"Unsupported_Platform";a.TIMEOUT_ERROR="Timeout_Error";a.MALFORMED_RESPONSE="Malformed_Response";return a}({});c.GetNativeInfoErrorCode=b},8769:function(b,c){function a(b){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},a(b)}function f(a,b){if("function"!==
typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});Object.defineProperty(a,"prototype",{writable:!1});b&&k(a,b)}function k(a,b){k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){a.__proto__=b;return a};return k(a,b)}function n(b){var c=l();return function(){var e=h(b);if(c){var d=h(this).constructor;e=Reflect.construct(e,arguments,d)}else e=e.apply(this,
arguments);if(!e||"object"!==a(e)&&"function"!==typeof e){if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=this}return e}}function l(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}
function h(a){h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)};return h(a)}function p(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,v(d.key),d)}}function d(a,b,c){b&&p(a.prototype,b);c&&p(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function v(b){a:if("object"===a(b)&&null!==b){var c=b[Symbol.toPrimitive];if(c!==q){b=c.call(b,
"string");if("object"!==a(b))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}return"symbol"===a(b)?b:String(b)}function t(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=c.PlatformInfo=c.MapInfo=c.GetNativeInfoAPIResponse=c.GetNativeInfoAPIErrorResponse=c.AppInfo=void 0;b=d(function m(){t(this,m)});c.GetNativeInfoAPIResponse=b;var u=d(function D(a,b){t(this,D);
this.identifier=a;this.version=b});c.AppInfo=u;u=d(function Db(a,b,c,d){t(this,Db);this.name=a;this.version=b;this.manufacturer=c;this.isUserVerifyingPlatformAuthenticatorAvailable=d});c.PlatformInfo=u;u=d(function G(a,b){t(this,G);this.mapVersion=a;this.jsVersion=b});c.MapInfo=u;u=function(a){function b(a,d,h,l){t(this,b);var f=c.call(this);f._appInfo=a;f._platformInfo=d;f._mapInfo=h;f._jsBridgeVersion=l;return f}f(b,a);var c=n(b);d(b,[{key:"appInfo",get:function(){return this._appInfo},set:function(a){this._appInfo=
a}},{key:"platformInfo",get:function(){return this._platformInfo},set:function(a){this._platformInfo=a}},{key:"mapInfo",get:function(){return this._mapInfo},set:function(a){this._mapInfo=a}},{key:"jsBridgeVersion",get:function(){return this._jsBridgeVersion},set:function(a){this._jsBridgeVersion=a}}]);return b}(b);c["default"]=u;b=function(a){function b(a){t(this,b);var d=c.call(this);d._error=a;return d}f(b,a);var c=n(b);d(b,[{key:"error",get:function(){return this._error},set:function(a){this._error=
a}}]);return b}(b);c.GetNativeInfoAPIErrorResponse=b},3931:function(b,c,a){function f(a){return a&&a.__esModule?a:{"default":a}}function k(a){if("function"!==typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(k=function(a){return a?c:b})(a)}function n(a){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?
"symbol":"undefined"===typeof a?"undefined":r(a)},n(a)}function l(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,p(e.key),e)}}function h(a,b,c){b&&l(a.prototype,b);c&&l(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function p(a){a:if("object"===n(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==n(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");
}a=String(a)}return"symbol"===n(a)?a:String(a)}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var d=a(5645),v=a(9384),t=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!==n(a)&&"function"!==typeof a)return{"default":a};if((b=k(b))&&b.has(a))return b.get(a);var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in a)if("default"!==d&&Object.prototype.hasOwnProperty.call(a,d)){var h=e?Object.getOwnPropertyDescriptor(a,d):null;h&&(h.get||h.set)?
Object.defineProperty(c,d,h):c[d]=a[d]}c["default"]=a;b&&b.set(a,c);return c}(a(8769)),u=f(a(9933)),y=f(a(1029)),m=a(2266),e=a(1071),z=f(a(4145)),D=f(a(7221));b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.nativeInfoCache=m.GetNativeInfoCache.getInstance()}h(a,[{key:"apiCall",value:function(a){var b=this;console.log("Calling ".concat(a.namespace,".").concat(a.method));return new Promise(function(c,e){z["default"].getInstance().nativeCall(a,
function(e){b.isSuccessResult(e)?(e=new u["default"](a.namespace,a.method,e,q),c(e)):(e=new u["default"](a.namespace,a.method,q,e),c(e))})})}},{key:"getMinVersionForFeature",value:function(a,b){if(a in e.minVersionConfig.features){var c=e.minVersionConfig.features[a].versions;if(b in c)return c=c[b],new y["default"](a,b,c.minMAPAndroidJSBridgeVersion,c.minMAPiOSJSBridgeVersion)}return null}},{key:"getNativeInfo",value:function(){var a=this,b=new D["default"](d.COMMON_NAMESPACE,"getNativeInfo",{timeout:d.TIMEOUT_LOCAL_IN_MILLISECONDS}),
c=this.nativeInfoCache.getCachedResponse();return c?(console.log("Cached values are ".concat(c)),Promise.resolve(c)):this.apiCall(b).then(function(b){if(b&&b.error)throw new t.GetNativeInfoAPIErrorResponse(a.mapNativeError(b.error));if(b&&b.apiResult)return b=b.apiResult,b=new t["default"](b.appInfo,b.platformInfo,b.mapInfo,b.jsBridgeVersion),a.nativeInfoCache.setCachedResponse(b),b;throw Error("Invalid API response");})["catch"](function(a){if(a instanceof t.GetNativeInfoAPIErrorResponse)return Promise.reject(a);
a=new t.GetNativeInfoAPIErrorResponse((0,v.createErrorResultForGetNativeInfo)(v.GetNativeInfoErrorCode.INTERNAL_ERROR,{message:"apiCall Error: ".concat(a.message)}));return Promise.reject(a)})}},{key:"mapNativeError",value:function(a){switch(a.errorCode){case v.ErrorCode.UNSUPPORTED_PLATFORM:return(0,v.createErrorResultForGetNativeInfo)(v.GetNativeInfoErrorCode.UNSUPPORTED_PLATFORM,a.errorDetails);case v.ErrorCode.TIMEOUT_ERROR:return(0,v.createErrorResultForGetNativeInfo)(v.GetNativeInfoErrorCode.TIMEOUT_ERROR,
a.errorDetails);case v.ErrorCode.MALFORMED_RESPONSE:return(0,v.createErrorResultForGetNativeInfo)(v.GetNativeInfoErrorCode.MALFORMED_RESPONSE,a.errorDetails);default:return(0,v.createErrorResultForGetNativeInfo)(v.GetNativeInfoErrorCode.INTERNAL_ERROR,a.errorDetails)}}},{key:"isSuccessResult",value:function(a){return"errorCode"in a&&"errorDetails"in a?!1:!0}},{key:"invalidateNativeInfoCache",value:function(){this.nativeInfoCache.invalidateCache()}}],[{key:"getInstance",value:function(){a.instance||
(a.instance=new a);return a.instance}}]);return a}();c["default"]=b},1029:function(b,c){function a(b){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},a(b)}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=
!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,n(d.key),d)}}function k(a,b,c){b&&f(a.prototype,b);c&&f(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function n(b){a:if("object"===a(b)&&null!==b){var c=b[Symbol.toPrimitive];if(c!==q){b=c.call(b,"string");if("object"!==a(b))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}return"symbol"===a(b)?b:String(b)}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=c.Feature=void 0;
b=function(a){a.PASSKEY="passkey";a.SSO="ata1pSso";return a}({});c.Feature=b;b=function(){function a(b,c,d,l){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._feature=b;this._featureVersion=c;this._minMAPAndroidJsBridgeVersion=d;this._minMAPiOSJsBridgeVersion=l}k(a,[{key:"minMAPAndroidJsBridgeVersion",get:function(){return this._minMAPAndroidJsBridgeVersion}},{key:"minMAPiOSJsBridgeVersion",get:function(){return this._minMAPiOSJsBridgeVersion}},{key:"featureVersion",
get:function(){return this._featureVersion}},{key:"feature",get:function(){return this._feature}}]);return a}();c["default"]=b},7221:function(b,c){function a(b){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},a(b)}function f(a,b){for(var c=0;c<b.length;c++){var d=
b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,n(d.key),d)}}function k(a,b,c){b&&f(a.prototype,b);c&&f(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function n(b){a:if("object"===a(b)&&null!==b){var c=b[Symbol.toPrimitive];if(c!==q){b=c.call(b,"string");if("object"!==a(b))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}return"symbol"===a(b)?b:String(b)}Object.defineProperty(c,"__esModule",
{value:!0});c["default"]=void 0;b=function(){function a(b,c,d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._namespace=b;this._method=c;this._paramObject=d}k(a,[{key:"namespace",get:function(){return this._namespace},set:function(a){this._namespace=a}},{key:"method",get:function(){return this._method},set:function(a){this._method=a}},{key:"paramObject",get:function(){return this._paramObject},set:function(a){this._paramObject=a}}]);return a}();c["default"]=
b},9933:function(b,c){function a(b){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},a(b)}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,n(d.key),d)}}
function k(a,b,c){b&&f(a.prototype,b);c&&f(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function n(b){a:if("object"===a(b)&&null!==b){var c=b[Symbol.toPrimitive];if(c!==q){b=c.call(b,"string");if("object"!==a(b))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}return"symbol"===a(b)?b:String(b)}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;b=function(){function a(b,c,d,f){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this._namespaceCalled=b;this._methodCalled=c;this._apiResult=d;this._error=f}k(a,[{key:"namespaceCalled",get:function(){return this._namespaceCalled},set:function(a){this._namespaceCalled=a}},{key:"methodCalled",get:function(){return this._methodCalled},set:function(a){this._methodCalled=a}},{key:"apiResult",get:function(){return this._apiResult},set:function(a){this._apiResult=a}},{key:"error",get:function(){return this._error},set:function(a){this._error=a}}]);return a}();c["default"]=b},2266:function(b,
c){function a(b){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},a(b)}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,n(d.key),d)}}function k(a,b,c){b&&
f(a.prototype,b);c&&f(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function n(b){a:if("object"===a(b)&&null!==b){var c=b[Symbol.toPrimitive];if(c!==q){b=c.call(b,"string");if("object"!==a(b))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}return"symbol"===a(b)?b:String(b)}Object.defineProperty(c,"__esModule",{value:!0});c.GetNativeInfoCache=void 0;b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.getNativeInfoCachedResponse=q}k(a,[{key:"setCachedResponse",value:function(a){this.getNativeInfoCachedResponse=a}},{key:"getCachedResponse",value:function(){return this.getNativeInfoCachedResponse}},{key:"invalidateCache",value:function(){this.getNativeInfoCachedResponse=q}}],[{key:"getInstance",value:function(){a.instance||(a.instance=new a);return a.instance}}]);return a}();c.GetNativeInfoCache=b},1071:function(b,c){Object.defineProperty(c,"__esModule",{value:!0});c.minVersionConfig=void 0;
c.minVersionConfig={features:{passkey:{versions:{1:{minMAPAndroidJSBridgeVersion:1,minMAPiOSJSBridgeVersion:1}}},ata1pSso:{versions:{1:{minMAPAndroidJSBridgeVersion:1,minMAPiOSJSBridgeVersion:1}}}}}},5177:function(b,c,a){function f(a){"@babel/helpers - typeof";return f="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===
typeof a?"undefined":r(a)},f(a)}function k(a){return a&&a.__esModule?a:{"default":a}}function n(a){if("function"!==typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(n=function(a){return a?c:b})(a)}function l(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!==f(a)&&"function"!==typeof a)return{"default":a};if((b=n(b))&&b.has(a))return b.get(a);var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in a)if("default"!==d&&Object.prototype.hasOwnProperty.call(a,
d)){var h=e?Object.getOwnPropertyDescriptor(a,d):null;h&&(h.get||h.set)?Object.defineProperty(c,d,h):c[d]=a[d]}c["default"]=a;b&&b.set(a,c);return c}Object.defineProperty(c,"__esModule",{value:!0});Object.defineProperty(c,"APIParamObject",{enumerable:!0,get:function(){return q.APIParamObject}});Object.defineProperty(c,"APIResult",{enumerable:!0,get:function(){return t.APIResult}});Object.defineProperty(c,"Base64UrlEncodingHelper",{enumerable:!0,get:function(){return u["default"]}});Object.defineProperty(c,
"ErrorCode",{enumerable:!0,get:function(){return h.ErrorCode}});Object.defineProperty(c,"ErrorResult",{enumerable:!0,get:function(){return h.ErrorResult}});Object.defineProperty(c,"Feature",{enumerable:!0,get:function(){return p.Feature}});Object.defineProperty(c,"FeatureMinVersion",{enumerable:!0,get:function(){return p["default"]}});Object.defineProperty(c,"GetNativeInfoAPIErrorResponse",{enumerable:!0,get:function(){return d.GetNativeInfoAPIErrorResponse}});Object.defineProperty(c,"GetNativeInfoAPIResponse",
{enumerable:!0,get:function(){return d.GetNativeInfoAPIResponse}});Object.defineProperty(c,"GetNativeInfoAPISuccessResponse",{enumerable:!0,get:function(){return d["default"]}});Object.defineProperty(c,"GetNativeInfoErrorCode",{enumerable:!0,get:function(){return h.GetNativeInfoErrorCode}});Object.defineProperty(c,"MAPNativeJSInterface",{enumerable:!0,get:function(){return y["default"]}});Object.defineProperty(c,"MOBINamespace",{enumerable:!0,get:function(){return q.MOBINamespace}});Object.defineProperty(c,
"NativeJsInterfaceAPIRequest",{enumerable:!0,get:function(){return q["default"]}});Object.defineProperty(c,"NativeJsInterfaceAPIResponse",{enumerable:!0,get:function(){return t["default"]}});var h=a(9384),p=l(a(1029)),d=l(a(8769)),q=l(a(7221)),t=l(a(9933)),u=k(a(4196)),y=k(a(3931))},7525:function(b,c,a){function f(a){"@babel/helpers - typeof";return f="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==
typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},f(a)}function k(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,l(e.key),e)}}function n(a,b,c){b&&k(a.prototype,b);c&&k(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function l(a){a:if("object"===f(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==
f(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===f(a)?a:String(a)}function h(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});Object.defineProperty(a,"prototype",{writable:!1});b&&p(a,b)}function p(a,b){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){a.__proto__=
b;return a};return p(a,b)}function d(a){var b=v();return function(){var c=t(a);if(b){var e=t(this).constructor;c=Reflect.construct(c,arguments,e)}else c=c.apply(this,arguments);if(!c||"object"!==f(c)&&"function"!==typeof c){if(void 0!==c)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=this}return c}}function v(){if("undefined"===typeof Reflect||!Reflect.construct||
Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(u){return!1}}function t(a){t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)};return t(a)}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;b=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");return c.apply(this,
arguments)}h(b,a);var c=d(b);n(b,[{key:"isAPIAvailable",value:function(a){var b=x[a.namespace];return"undefined"!==typeof b&&"function"===typeof b[a.method]?!0:!1}},{key:"apiCall",value:function(a){x&&x[a.namespace]&&x[a.namespace][a.method]&&"function"===typeof x[a.namespace][a.method]&&(console.log("Calling native bridge API on android: ".concat(JSON.stringify(a.paramObject))),x[a.namespace][a.method](this.encodeObject(a.paramObject)))}}]);return b}(function(a){return a&&a.__esModule?a:{"default":a}}(a(4072))["default"]);
c["default"]=b},7802:function(b,c,a){function f(a){"@babel/helpers - typeof";return f="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},f(a)}function k(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,
l(d.key),d)}}function n(a,b,c){b&&k(a.prototype,b);c&&k(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function l(a){a:if("object"===f(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==f(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===f(a)?a:String(a)}function h(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=
Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});Object.defineProperty(a,"prototype",{writable:!1});b&&p(a,b)}function p(a,b){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){a.__proto__=b;return a};return p(a,b)}function d(a){var b=v();return function(){var c=t(a);if(b){var d=t(this).constructor;c=Reflect.construct(c,arguments,d)}else c=c.apply(this,arguments);if(!c||"object"!==f(c)&&"function"!==typeof c){if(void 0!==c)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=this}return c}}function v(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}function t(a){t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)};return t(a)}
Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;var u=a(9384);b=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");return c.apply(this,arguments)}h(b,a);var c=d(b);n(b,[{key:"isAPIAvailable",value:function(a){return!0}},{key:"apiCall",value:function(a){console.log("".concat(a.namespace,".").concat(a.method," on unsupported version or platform. return error message."));x.mapJSCallbackV2(this.encodeObject(a.paramObject),this.encodeObject((0,
u.createErrorResult)(u.ErrorCode.UNSUPPORTED_PLATFORM,"Unsupported platform, probably not running in app WebView.")))}}]);return b}(function(a){return a&&a.__esModule?a:{"default":a}}(a(4072))["default"]);c["default"]=b},8392:function(b,c,a){function f(a){"@babel/helpers - typeof";return f="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":
"undefined"===typeof a?"undefined":r(a)},f(a)}function k(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable}));c.push.apply(c,d)}return c}function n(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?k(Object(c),!0).forEach(function(b){y(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):
k(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function l(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,m(d.key),d)}}function h(a,b,c){b&&l(a.prototype,b);c&&l(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function p(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});Object.defineProperty(a,"prototype",{writable:!1});b&&d(a,b)}function d(a,b){d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){a.__proto__=b;return a};return d(a,b)}function v(a){var b=t();return function(){var c=u(a);if(b){var d=u(this).constructor;c=Reflect.construct(c,arguments,d)}else c=c.apply(this,arguments);if(!c||"object"!==f(c)&&"function"!==typeof c){if(void 0!==c)throw new TypeError("Derived constructors may only return object or undefined");
if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=this}return c}}function t(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function u(a){u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)};return u(a)}
function y(a,b,c){b=m(b);b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}function m(a){a:if("object"===f(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==f(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===f(a)?a:String(a)}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;b=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
return c.apply(this,arguments)}p(b,a);var c=v(b);h(b,[{key:"isAPIAvailable",value:function(a){var c=x[b.WEBKIT_KEY];return c&&(c=c[b.MESSAGE_HANDLERS_KEY])&&c[a.namespace]?!0:!1}},{key:"apiCall",value:function(a){console.log("Try calling iOS native bridge method. ".concat(a.namespace,".").concat(a.method));x.webkit.messageHandlers[a.namespace].postMessage(this.encodeObject(n(n({},a.paramObject),{},{apiName:a.method})))}}]);return b}(function(a){return a&&a.__esModule?a:{"default":a}}(a(4072))["default"]);
c["default"]=b;y(b,"WEBKIT_KEY","webkit");y(b,"MESSAGE_HANDLERS_KEY","messageHandlers")},4072:function(b,c,a){function f(a){"@babel/helpers - typeof";return f="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},f(a)}function k(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||
!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,l(d.key),d)}}function n(a,b,c){b&&k(a.prototype,b);c&&k(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function l(a){a:if("object"===f(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==f(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===f(a)?a:String(a)}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=
void 0;var h=function(a){return a&&a.__esModule?a:{"default":a}}(a(4196));b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}n(a,[{key:"encodeObject",value:function(a){return h["default"].base64URLencode(JSON.stringify(a,function(a,b){return b instanceof ArrayBuffer?h["default"].bufferToBase64UrlString(b):b}))}}]);return a}();c["default"]=b},4145:function(b,c,a){function f(a){return a&&a.__esModule?a:{"default":a}}function k(a){"@babel/helpers - typeof";
return k="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},k(a)}function n(a,b){var c="undefined"!==typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=l(a))||b&&a&&"number"===typeof a.length){c&&(a=c);var d=0;b=function(){};return{s:b,n:function(){return d>=a.length?
{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a;},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var e=!0,f=!1,h;return{s:function(){c=c.call(a)},n:function(){var a=c.next();e=a.done;return a},e:function(a){f=!0;h=a},f:function(){try{if(!e&&null!=c["return"])c["return"]()}finally{if(f)throw h;}}}}function l(a,b){if(a){if("string"===typeof a)return h(a,b);var c=Object.prototype.toString.call(a).slice(8,
-1);"Object"===c&&a.constructor&&(c=a.constructor.name);if("Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return h(a,b)}}function h(a,b){if(null==b||b>a.length)b=a.length;for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function p(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,t(d.key),d)}}function d(a,b,c){b&&p(a.prototype,b);c&&p(a,
c);Object.defineProperty(a,"prototype",{writable:!1});return a}function v(a,b,c){b=t(b);b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}function t(a){a:if("object"===k(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==k(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===k(a)?a:String(a)}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;
var u=a(9384),y=f(a(7221)),m=f(a(4196)),e=a(5063),z=f(a(7525)),D=f(a(7802)),E=f(a(8392));b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");v(this,"metricPublisherMap",new Map);v(this,"callbackMap",new Map);v(this,"apiNameMap",new Map);v(this,"callCounter",0);this.nativeCallerList=[];this.prepareIframePreventionToken();this.prepareCommonCallbackForNativeBridge()}d(a,[{key:"registerNativeCaller",value:function(a){this.nativeCallerList.push(a)}},
{key:"nativeCall",value:function(a,b){this.prepareMetrics(a.method);this.storeAPICallState(a,b);this.findCorrectNativeCaller(a).apiCall(a)}},{key:"findCorrectNativeCaller",value:function(a){var b=n(this.nativeCallerList),c;try{for(b.s();!(c=b.n()).done;){var d=c.value;if(d.isAPIAvailable(a))return console.log("Found one native bridge that can handle the request. Caller class is:"+d.constructor.name),d}}catch(za){b.e(za)}finally{b.f()}return new D["default"]}},{key:"storeAPICallState",value:function(a,
b){var c=this,d=Date.now();a.paramObject.invocationTime=d;a.paramObject.callbackFunctionNameKey="mapJSCallbackV2";a.paramObject.callingId=a.method+d+this.callCounter;this.callCounter+=1;this.callbackMap.set(a.paramObject.callingId,b);this.apiNameMap.set(a.paramObject.callingId,a.method);0<a.paramObject.timeout&&(a.paramObject.timerId=setTimeout(function(){b((0,u.createErrorResult)(u.ErrorCode.TIMEOUT_ERROR,"Native bridge call timeout."));var d=c.metricPublisherMap.get(a.method);null===d||void 0===
d?void 0:d.publishCounter("Timeout",1)},a.paramObject.timeout))}},{key:"prepareCommonCallbackForNativeBridge",value:function(){var a=this;console.log("Setting up common generic callback");x.mapJSCallbackV2=function(b,c){b=JSON.parse(m["default"].base64URLdecode(b));var d=b.callingId,e=b.timerId;if("function"===typeof a.callbackMap.get(d)){var f=a.callbackMap.get(d);a.callbackMap["delete"](d);"number"===typeof e&&(console.log("Timer id is valid, clear the timeout"),x.clearTimeout(e));e=Date.now()-
b.invocationTime;d=a.apiNameMap.get(d);if("undefined"!==typeof d&&(d=a.metricPublisherMap.get(d),null===d||void 0===d?void 0:d.publishTimer("Time",e),"undefined"!==typeof f))if(a.shouldThrowTimeoutError(b,e))null===d||void 0===d?void 0:d.publishCounter("Error",1),f((0,u.createErrorResult)(u.ErrorCode.TIMEOUT_ERROR,"Overall elapsed time is longer than timeout."));else try{var h=m["default"].base64URLdecode(c),k=JSON.parse(h);console.log("Loading callback with result");"undefined"!==typeof k.errorCode?
null===d||void 0===d?void 0:d.publishCounter("Success",1):null===d||void 0===d?void 0:d.publishCounter("Error",1);f(k)}catch(T){null===d||void 0===d?void 0:d.publishCounter("Error",1),f((0,u.createErrorResult)(u.ErrorCode.MALFORMED_RESPONSE,"Native returning non json formated result."))}}}}},{key:"prepareIframePreventionToken",value:function(){var a=this;x.injectTokenCallbackV2=function(b,c){b=JSON.parse(m["default"].base64URLdecode(b));var d=JSON.parse(m["default"].base64URLdecode(c));c=document.getElementById(d.callingId);
if(null!==c){var e,f=d.originalNamespace;d=d.originalFunction;b.token=c.innerText;b=new y["default"](f,d,b);a.findCorrectNativeCaller(b).apiCall(b);null===(e=c.parentNode)||void 0===e?void 0:e.removeChild(c)}}}},{key:"shouldThrowTimeoutError",value:function(a,b){return"undefined"!==typeof a.timeout&&b>=a.timeout}},{key:"prepareMetrics",value:function(a){"undefined"===typeof this.metricPublisherMap.get(a)&&this.metricPublisherMap.set(a,(0,e.getMetricsPublisher)(a));a=this.metricPublisherMap.get(a);
null===a||void 0===a?void 0:a.publishCounter("Counter",1)}}],[{key:"getInstance",value:function(){a.instance||(a.instance=new a,a.instance.registerNativeCaller(new z["default"]),a.instance.registerNativeCaller(new E["default"]));return a.instance}}]);return a}();c["default"]=b},4196:function(b,c){function a(b){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&
a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},a(b)}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,n(d.key),d)}}function k(a,b,c){b&&f(a.prototype,b);c&&f(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function n(b){a:if("object"===a(b)&&null!==b){var c=b[Symbol.toPrimitive];if(c!==q){b=c.call(b,"string");if("object"!==a(b))break a;
throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}return"symbol"===a(b)?b:String(b)}Object.defineProperty(c,"__esModule",{value:!0});c["default"]=void 0;b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}k(a,null,[{key:"base64URLencode",value:function(a){for(var b=[],c=0;c<a.length;c++){var f=a.charCodeAt(c);128>f?b.push(f):(2048>f?b.push(192|f>>6):(65536>f?b.push(224|f>>12):(b.push(240|f>>18),b.push(128|f>>12&
63)),b.push(128|f>>6&63)),b.push(128|f&63))}a=b.map(function(a){return String.fromCharCode(a)}).join("");return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}},{key:"base64URLdecode",value:function(a){a=a.replace(/-/g,"+").replace(/_/g,"/");var b=atob(a);a=[];for(var c=0;c<b.length;c++)a.push(b.charCodeAt(c));b="";for(c=0;c<a.length;){var f=a[c++];if(128>f)b+=String.fromCharCode(f);else if(224>f){var k=a[c++];b+=String.fromCharCode((f&31)<<6|k&63)}else if(240>f){k=a[c++];var h=a[c++];
b+=String.fromCharCode((f&15)<<12|(k&63)<<6|h&63)}else{k=a[c++];h=a[c++];var n=a[c++];b+=String.fromCodePoint((f&7)<<18|(k&63)<<12|(h&63)<<6|n&63)}}return b}},{key:"bufferToBase64UrlString",value:function(a){return x.btoa((new Uint8Array(a)).reduce(function(a,b){return a+String.fromCharCode(b)},"")).replace(/\+/g,"-").replace(/\//g,"_").replace(/=*$/,"")}}]);return a}();c["default"]=b},5645:function(b,c){Object.defineProperty(c,"__esModule",{value:!0});c.TIMEOUT_NETWORK_IN_MILLISECONDS=c.TIMEOUT_LOCAL_IN_MILLISECONDS=
c.COMMON_NAMESPACE=void 0;c.COMMON_NAMESPACE="IDENTITY_MOBILE";c.TIMEOUT_LOCAL_IN_MILLISECONDS=5E3;c.TIMEOUT_NETWORK_IN_MILLISECONDS=1E4},5063:function(b,c,a){Object.defineProperty(c,"__esModule",{value:!0});c.getMetricsPublisher=function(a){var b="unknown";"undefined"!==typeof x.location&&(b=(0,f.getSanitizedClientNameByPath)());b="IdentityService.".concat(b);return new f.IdentityKatalMetricsPublisher(b,"MAPNativeJSInterface",a)};var f=a(6957)},6445:function(b,c,a){a.r(c);a.d(c,{compare:function(){return p},
compareVersions:function(){return h},satisfies:function(){return t},validate:function(){return u},validateStrict:function(){return y}});var f=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,k=function(a){if("string"!==typeof a)throw new TypeError("Invalid argument expected string");var b=a.match(f);if(!b)throw Error("Invalid argument not valid semver ('"+a+"' received)");b.shift();return b},n=function(a){var b=
parseInt(a,10);return isNaN(b)?a:b},l=function(a,b){for(var c=0;c<Math.max(a.length,b.length);c++){var d=a[c]||"0";var e=b[c]||"0";"*"===d||"x"===d||"X"===d||"*"===e||"x"===e||"X"===e?e=0:(d=n(d),e=n(e),e=("undefined"===typeof d?"undefined":r(d))!==("undefined"===typeof e?"undefined":r(e))?[String(d),String(e)]:[d,e],d=I(e,2),e=d[0],d=d[1],e=e>d?1:e<d?-1:0);if(0!==e)return e}return 0},h=function(a,b){a=k(a);var c=k(b);b=a.pop();var d=c.pop();a=l(a,c);return 0!==a?a:b&&d?l(b.split("."),d.split(".")):
b||d?b?-1:1:0},p=function(a,b,c){if("string"!==typeof c)throw new TypeError("Invalid operator type, expected string but got "+("undefined"===typeof c?"undefined":r(c)));if(-1===q.indexOf(c))throw Error("Invalid operator, expected one of "+q.join("|"));a=h(a,b);return d[c].includes(a)},d={"\x3e":[1],"\x3e\x3d":[0,1],"\x3d":[0],"\x3c\x3d":[-1,0],"\x3c":[-1],"!\x3d":[-1,1]},q=Object.keys(d),t=function D(a,b){b=b.replace(/([><=]+)\s+/g,"$1");if(b.includes("||"))return b.split("||").some(function(b){return D(a,
b)});if(b.includes(" - ")){var c=b.split(" - ",2);c=I(c,2);return D(a,"\x3e\x3d"+c[0]+" \x3c\x3d"+c[1])}if(b.includes(" "))return b.trim().replace(/\s{2,}/g," ").split(" ").every(function(b){return D(a,b)});c=(c=b.match(/^([<>=~^]+)/))?c[1]:"\x3d";if("^"!==c&&"~"!==c)return p(a,b,c);var d=k(a);d=I(d,5);var e=d[0],f=d[1],h=d[2];d=d[4];b=k(b);var n=I(b,5),q=n[1],t=n[2];b=n[4];e=[e,f,h];f=[n[0],null!==q&&void 0!==q?q:"x",null!==t&&void 0!==t?t:"x"];if(b&&(!d||0!==l(e,f)||-1===l(d.split("."),b.split("."))))return!1;
d=f.findIndex(function(a){return"0"!==a})+1;c="~"===c?2:1<d?d:1;return 0!==l(e.slice(0,c),f.slice(0,c))||-1===l(e.slice(c),f.slice(c))?!1:!0},u=function(a){return"string"===typeof a&&/^[v\d]/.test(a)&&f.test(a)},y=function(a){return"string"===typeof a&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(a)}},6490:function(b){b.exports=["WebView","(iPhone|iPod|iPad)(?!.*Safari)",
"Android.*(;\\s+wv|Version/\\d.\\d\\s+Chrome/\\d+(\\.0){3})","Linux; U; Android"]},942:function(b,c,a){c=a(6490);var f=new RegExp("("+c.join("|")+")","ig");b.exports=function(a){return!!a.match(f)}},5877:function(b,c,a){c=a(3570);a=a(1171);a.v1=c;a.v4=a;b.exports=a},5327:function(b){for(var c=[],a=0;256>a;++a)c[a]=(a+256).toString(16).substr(1);b.exports=function(a,b){b=b||0;return[c[a[b++]],c[a[b++]],c[a[b++]],c[a[b++]],"-",c[a[b++]],c[a[b++]],"-",c[a[b++]],c[a[b++]],"-",c[a[b++]],c[a[b++]],"-",
c[a[b++]],c[a[b++]],c[a[b++]],c[a[b++]],c[a[b++]],c[a[b++]]].join("")}},5217:function(b){var c="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof x.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(c){var a=new Uint8Array(16);b.exports=function(){c(a);return a}}else{var f=Array(16);b.exports=function(){for(var a=0,b;16>a;a++)0===(a&3)&&(b=4294967296*Math.random()),f[a]=b>>>((a&3)<<3)&255;return f}}},
3570:function(b,c,a){var f=a(5217),k=a(5327),n,l,h=0,p=0;b.exports=function(a,b,c){c=b&&c||0;var d=b||[];a=a||{};var t=a.node||n,m=a.clockseq!==q?a.clockseq:l;if(null==t||null==m){var e=f();null==t&&(t=n=[e[0]|1,e[1],e[2],e[3],e[4],e[5]]);null==m&&(m=l=(e[6]<<8|e[7])&16383)}e=a.msecs!==q?a.msecs:(new Date).getTime();var r=a.nsecs!==q?a.nsecs:p+1,v=e-h+(r-p)/1E4;0>v&&a.clockseq===q&&(m=m+1&16383);(0>v||e>h)&&a.nsecs===q&&(r=0);if(1E4<=r)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");
h=e;p=r;l=m;e+=122192928E5;a=(1E4*(e&268435455)+r)%4294967296;d[c++]=a>>>24&255;d[c++]=a>>>16&255;d[c++]=a>>>8&255;d[c++]=a&255;a=e/4294967296*1E4&268435455;d[c++]=a>>>8&255;d[c++]=a&255;d[c++]=a>>>24&15|16;d[c++]=a>>>16&255;d[c++]=m>>>8|128;d[c++]=m&255;for(m=0;6>m;++m)d[c+m]=t[m];return b?b:k(d)}},1171:function(b,c,a){var f=a(5217),k=a(5327);b.exports=function(a,b,c){c=b&&c||0;"string"==typeof a&&(b="binary"===a?Array(16):null,a=null);a=a||{};a=a.random||(a.rng||f)();a[6]=a[6]&15|64;a[8]=a[8]&63|
128;if(b)for(var h=0;16>h;++h)b[c+h]=a[h];return b||k(a)}},6470:function(){},3897:function(b){b.exports=function(b,a){if(null==a||a>b.length)a=b.length;for(var c=0,k=Array(a);c<a;c++)k[c]=b[c];return k};b.exports.__esModule=!0;b.exports["default"]=b.exports},3405:function(b,c,a){var f=a(3897);b.exports=function(a){if(Array.isArray(a))return f(a)};b.exports.__esModule=!0;b.exports["default"]=b.exports},6115:function(b){b.exports=function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return b};b.exports.__esModule=!0;b.exports["default"]=b.exports},6690:function(b){b.exports=function(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");};b.exports.__esModule=!0;b.exports["default"]=b.exports},9728:function(b,c,a){function f(a,b){for(var c=0;c<b.length;c++){var f=b[c];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,k(f.key),f)}}var k=a(4062);b.exports=function(a,b,c){b&&f(a.prototype,b);c&&f(a,c);
Object.defineProperty(a,"prototype",{writable:!1});return a};b.exports.__esModule=!0;b.exports["default"]=b.exports},8416:function(b,c,a){var f=a(4062);b.exports=function(a,b,c){b=f(b);b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a};b.exports.__esModule=!0;b.exports["default"]=b.exports},1588:function(b,c,a){function f(){"undefined"!==typeof Reflect&&Reflect.get?(b.exports=f=Reflect.get.bind(),b.exports.__esModule=!0):(b.exports=f=function(a,
b,c){var f=k(a,b);if(f)return f=Object.getOwnPropertyDescriptor(f,b),f.get?f.get.call(3>arguments.length?a:c):f.value},b.exports.__esModule=!0);b.exports["default"]=b.exports;return f.apply(this,arguments)}var k=a(1753);b.exports=f;b.exports.__esModule=!0;b.exports["default"]=b.exports},3808:function(b){function c(a){b.exports=c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)};b.exports.__esModule=!0;b.exports["default"]=b.exports;return c(a)}
b.exports=c;b.exports.__esModule=!0;b.exports["default"]=b.exports},1655:function(b,c,a){var f=a(6015);b.exports=function(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});Object.defineProperty(a,"prototype",{writable:!1});b&&f(a,b)};b.exports.__esModule=!0;b.exports["default"]=b.exports},4836:function(b){b.exports=function(b){return b&&b.__esModule?
b:{"default":b}};b.exports.__esModule=!0;b.exports["default"]=b.exports},9498:function(b){b.exports=function(b){if("undefined"!==typeof Symbol&&null!=b[Symbol.iterator]||null!=b["@@iterator"])return Array.from(b)};b.exports.__esModule=!0;b.exports["default"]=b.exports},2281:function(b){b.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");};b.exports.__esModule=!0;b.exports["default"]=
b.exports},4993:function(b,c,a){var f=a(8698)["default"],k=a(6115);b.exports=function(a,b){if(b&&("object"===f(b)||"function"===typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return k(a)};b.exports.__esModule=!0;b.exports["default"]=b.exports},3788:function(b,c,a){function f(a,b,c,d){f="undefined"!==typeof Reflect&&Reflect.set?Reflect.set:function(a,b,c,d){if(a=k(a,b)){a=Object.getOwnPropertyDescriptor(a,b);if(a.set)return a.set.call(d,
c),!0;if(!a.writable)return!1}if(a=Object.getOwnPropertyDescriptor(d,b)){if(!a.writable)return!1;a.value=c;Object.defineProperty(d,b,a)}else n(d,b,c);return!0};return f(a,b,c,d)}var k=a(1753),n=a(8416);b.exports=function(a,b,c,d,k){if(!f(a,b,c,d||a)&&k)throw new TypeError("failed to set property");return c};b.exports.__esModule=!0;b.exports["default"]=b.exports},6015:function(b){function c(a,f){b.exports=c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){a.__proto__=b;return a};b.exports.__esModule=
!0;b.exports["default"]=b.exports;return c(a,f)}b.exports=c;b.exports.__esModule=!0;b.exports["default"]=b.exports},1753:function(b,c,a){var f=a(3808);b.exports=function(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=f(a),null!==a););return a};b.exports.__esModule=!0;b.exports["default"]=b.exports},861:function(b,c,a){var f=a(3405),k=a(9498),n=a(6116),l=a(2281);b.exports=function(a){return f(a)||k(a)||n(a)||l()};b.exports.__esModule=!0;b.exports["default"]=b.exports},5036:function(b,c,a){var f=
a(8698)["default"];b.exports=function(a,b){if("object"!==f(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==q){a=c.call(a,b||"default");if("object"!==f(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===b?String:Number)(a)};b.exports.__esModule=!0;b.exports["default"]=b.exports},4062:function(b,c,a){var f=a(8698)["default"],k=a(5036);b.exports=function(a){a=k(a,"string");return"symbol"===f(a)?a:String(a)};b.exports.__esModule=!0;b.exports["default"]=
b.exports},8698:function(b){function c(a){"@babel/helpers - typeof";return b.exports=c="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},b.exports.__esModule=!0,b.exports["default"]=b.exports,c(a)}b.exports=c;b.exports.__esModule=!0;b.exports["default"]=b.exports},6116:function(b,c,a){var f=
a(3897);b.exports=function(a,b){if(a){if("string"===typeof a)return f(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);"Object"===c&&a.constructor&&(c=a.constructor.name);if("Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return f(a,b)}};b.exports.__esModule=!0;b.exports["default"]=b.exports}},ha={};(function(){K.d=function(b,c){for(var a in c)K.o(c,a)&&!K.o(b,a)&&Object.defineProperty(b,a,{enumerable:!0,get:c[a]})}})();(function(){K.o=
function(b,c){return Object.prototype.hasOwnProperty.call(b,c)}})();(function(){K.r=function(b){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});Object.defineProperty(b,"__esModule",{value:!0})}})();var ia={};(function(){function b(a){"@babel/helpers - typeof";return b="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===
Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},b(a)}function c(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,writable:!0,configurable:!0}});Object.defineProperty(b,"prototype",{writable:!1});c&&a(b,c)}function a(b,c){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){a.__proto__=b;return a};return a(b,c)}function f(a){var c=
k();return function(){var g=n(a);if(c){var w=n(this).constructor;g=Reflect.construct(g,arguments,w)}else g=g.apply(this,arguments);if(!g||"object"!==b(g)&&"function"!==typeof g){if(void 0!==g)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=this}return g}}function k(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===
typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}function n(a){n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)};return n(a)}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function h(a,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,
d(g.key),g)}}function p(a,b,c){b&&h(a.prototype,b);c&&h(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function d(a){a:if("object"===b(a)&&null!==a){var c=a[Symbol.toPrimitive];if(c!==q){a=c.call(a,"string");if("object"!==b(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===b(a)?a:String(a)}function v(a){return a.filter(function(b,c){return a.indexOf(b)===c})}function t(a){"@babel/helpers - typeof";return t="function"==typeof Symbol&&
"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},t(a)}function u(a,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,m(g.key),g)}}function y(a,b,c){b&&u(a.prototype,b);c&&u(a,c);Object.defineProperty(a,"prototype",{writable:!1});
return a}function m(a){a:if("object"===t(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==t(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===t(a)?a:String(a)}function e(a){"@babel/helpers - typeof";return e="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?
"symbol":"undefined"===typeof a?"undefined":r(a)},e(a)}function z(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(a);b&&(g=g.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable}));c.push.apply(c,g)}return c}function D(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?z(Object(c),!0).forEach(function(b){var g=c[b];a:if("object"===e(b)&&null!==b){var w=b[Symbol.toPrimitive];if(w!==q){b=w.call(b,"string");
if("object"!==e(b))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}b="symbol"===e(b)?b:String(b);b in a?Object.defineProperty(a,b,{value:g,enumerable:!0,configurable:!0,writable:!0}):a[b]=g}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):z(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function E(a){return D({id:Ha(a.id),type:a.type},a.transports!=q&&
{transports:a.transports})}function G(a){if("password"in a)return JSON.stringify({id:a.id,password:a.password});var b=a.response,c={id:a.id,response:{clientDataJSON:(0,C.$_)(b.clientDataJSON),authenticatorData:(0,C.$_)(b.authenticatorData),signature:(0,C.$_)(b.signature)},clientExtensionResults:a.getClientExtensionResults(),type:a.type};null!=b.userHandle&&(c.response.userHandle=(0,C.$_)(b.userHandle));null!=a.authenticatorAttachment&&(c.authenticatorAttachment=a.authenticatorAttachment);return JSON.stringify(c)}
function I(a){a=atob(a);a=ha(a);a.rp=D({name:a.relyingParty.relyingPartyName},a.relyingParty.relyingPartyId!=q&&{id:a.relyingParty.relyingPartyId});delete a.relyingParty;a.excludeCredentials!=q&&(a.excludeCredentials=a.excludeCredentials.map(E));a.user.id=ka(a.user.id);a.challenge=Ha(a.challenge);a.user.displayName=(new TextDecoder("utf-8")).decode(ka(a.user.displayName));var b=a.mediation;delete a.mediation;return D({publicKey:a},b!=q&&{mediation:b})}function L(a){a=atob(a);a=ha(a);return{relyingPartyId:a.rpId,
allowedCredentials:a.allowCredentials,challenge:a.challenge,timeout:a.timeout,userVerification:a.userVerification,mediation:a.mediation}}function ha(a){return JSON.parse(a,function(a,b){return null===b?q:b})}function ka(a){return Uint8Array.from(a,function(a){return a.charCodeAt(0)}).buffer}function za(a){return x.btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=*$/,"")}function Ha(a){return ka(x.atob(a.replace(/-/g,"+").replace(/_/g,"/")))}function ja(a){return Object.values(C.GG).includes(a.name)||
Object.values(C.DO).includes(a.name)}function Ya(a){return Object.values(C.YG).includes(a.name)||Object.values(C.UH).includes(a.name)}function T(a){"@babel/helpers - typeof";return T="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},T(a)}function Za(a,b){for(var c=0;c<b.length;c++){var g=b[c];
g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,Q(g.key),g)}}function M(a,b,c){b&&Za(a.prototype,b);c&&Za(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function Q(a){a:if("object"===T(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==T(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===T(a)?a:String(a)}function P(a,b){return(new C.v1).createNativePasskeyCredential(a).then(function(a){return a})["catch"](function(a){b.publishErrorMetrics(a);
if(a instanceof C.KV){if(ja(a)){var c;a=a.name===C.GG.AIPasskeyRegisterErrorSystem&&"1001"===(null===(c=a.iosErrorDetail)||void 0===c?void 0:c.code)?A.quickBuild(B.NotAllowedError):A.quickBuild(B.NativeCredentialCreationFailed);return a}if(Ya(a))return Fb(a)}return A.quickBuild(B.NativeCredentialCreationFailed)})}function Fb(a){switch(a.name){case C.YG.ENROLLMENT_CANCELLED:case C.YG.ENROLLMENT_TIMEOUT:case C.YG.ENROLLMENT_RE_ENROLL_CANCEL:return A.quickBuild(B.NotAllowedError);case C.YG.UNABLE_TO_ENROLL:return A.quickBuild(B.NativeDeviceIncapable);
case C.YG.ENROLLMENT_UNABLE_TO_VALIDATE:return A.quickBuild(B.NativeValidationFailure);case C.YG.ENROLLMENT_CREDENTIAL_EXISTS:return A.quickBuild(B.InvalidStateError);case C.YG.ENROLLMENT_REQUEST_JSON_PARSE_FAILED:return A.quickBuild(B.InvalidInput);default:return A.quickBuild(B.NativeCredentialCreationFailed)}}function R(a){"@babel/helpers - typeof";return R="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==
typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},R(a)}function Hb(a,b){var c="undefined"!==typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=Z(a))||b&&a&&"number"===typeof a.length){c&&(a=c);var g=0;b=function(){};return{s:b,n:function(){return g>=a.length?{done:!0}:{done:!1,value:a[g++]}},e:function(a){throw a;},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var d=!0,w=!1,e;return{s:function(){c=c.call(a)},n:function(){var a=c.next();d=a.done;return a},e:function(a){w=!0;e=a},f:function(){try{if(!d&&null!=c["return"])c["return"]()}finally{if(w)throw e;}}}}function Z(a,b){if(a){if("string"===typeof a)return aa(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);"Object"===c&&a.constructor&&(c=a.constructor.name);if("Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return aa(a,b)}}function aa(a,
b){if(null==b||b>a.length)b=a.length;for(var c=0,g=Array(b);c<b;c++)g[c]=a[c];return g}function U(a,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,la(g.key),g)}}function Ba(a,b,c){b&&U(a.prototype,b);c&&U(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function la(a){a:if("object"===R(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==R(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");
}a=String(a)}return"symbol"===R(a)?a:String(a)}function N(a,b){var c=ba.getInstance().getConfig(["app_name"]);c=c?c:(0,F.getSanitizedClientNameByPath)();c="IdentityService.Passkey.".concat(c);var g="".concat(c,"_").concat("IdentityWebAuthnJSSDK","_").concat(a);g=b?"".concat(g,"_").concat(b):g;var d=bb[g];if(d)return d;d=new F.IdentityKatalMetricsPublisher(c,"IdentityWebAuthnJSSDK",a,b);return bb[g]=d}function ma(a){var b=null!==a&&void 0!==a&&a.actionId?a.actionId:(0,F.generateUUID)(),c=[];if((new F.PlatformDetector).isRunningInWebView()){var g=
$a(a);c.push(g);Eb(null===a||void 0===a?void 0:a.isWebAuthnSupportedMobileConfig)&&(g=Aa(a),c.push(g))}else g=Aa(a),c.push(g);return Promise.all(c).then(function(c){c=c.every(function(a){return a});null!==a&&void 0!==a&&a.shouldDisableMetrics||Kb(c,b);return c})}function Ja(){return new Promise(function(a,b){if((new F.PlatformDetector).isRunningInWebView()){b=ba.getInstance();var c=(new F.PlatformDetector).getPlatform();if(b.getConfig([c,ca.ENROLLMENT_WEBLABS_RESULT]))a(!0);else(new C.v1).isMobileBetaProgram().then(function(b){a(b)})["catch"](function(b){console.error(b);
a(!1)})}else a(!0)})}function Y(a){var b=ba.getInstance(),c=new F.PlatformDetector;return c.isRunningInWebView()&&(c=c.getPlatform(),(c===F.Platform.Android_App||c===F.Platform.iOS_App)&&b.getConfig([c,a]))?!0:!1}function Ia(a){return new Promise(function(b,c){if((new F.PlatformDetector).isRunningInWebView())(new C.v1).checkDevicePasskeyCapability().then(function(c){c===C.Hy.SUPPORTED?a.publishCounterOnce("PasskeyEligibleSignIn"):c===C.Hy.UNSUPPORTED&&a.publishCounterOnce("PasskeyIneligibleSignIn");
b()})["catch"](function(a){console.error(a);b()});else Aa({requireOnDeviceAuthenticatorAvailable:!0}).then(function(c){c?a.publishCounterOnce("PasskeyEligibleSignIn"):a.publishCounterOnce("PasskeyIneligibleSignIn");b()})})}function Aa(a){return new Promise(function(b,c){ab(b,c,null===a||void 0===a?void 0:a.requireConditionalMediationAvailable,null===a||void 0===a?void 0:a.requireOnDeviceAuthenticatorAvailable)})}function $a(a){return new Promise(function(b,c){Gb(b,a)})}function Eb(a){var b=ba.getInstance(),
c=(new F.PlatformDetector).getPlatform();if(c===F.Platform.Android_App||c===F.Platform.iOS_App){if(a)return!a[c].nativeEnable;if(b.getConfig([c,ca.NATIVE_ENABLE]))return!1}return!0}function ab(a,b){var c=2<arguments.length&&arguments[2]!==q?arguments[2]:!0,g=3<arguments.length&&arguments[3]!==q?arguments[3]:!1;if(x.PublicKeyCredential&&"function"===typeof x.PublicKeyCredential.isConditionalMediationAvailable&&"function"===typeof x.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable){var d=
[];c&&d.push(x.PublicKeyCredential.isConditionalMediationAvailable());g&&d.push(x.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable());Promise.all(d).then(function(b){a(b.reduce(function(a,b){return a&&b},!0))})["catch"](function(b){console.error(b);a(!1)})}else a(!1)}function Gb(a,b){var c=new C.v1;if(Lb())a(!1);else c.isNativePasskeyAPIAvailable(b?{actionId:b.actionId,requireConditionalMediationAvailable:b.requireConditionalMediationAvailable,requireOnDeviceAuthenticatorAvailable:b.requireOnDeviceAuthenticatorAvailable,
webAuthnNativeConfig:b.isWebAuthnSupportedMobileConfig}:q).then(function(b){a(b)})["catch"](function(b){console.error(b);a(!1)})}function Lb(){var a=new F.AmazonDomainHelper;return(new F.PlatformDetector).getPlatform()===F.Platform.Android_App&&"amazon.sg"===a.getMarketplaceDomain(x.location.hostname)?!0:!1}function Kb(a,b){N("isWebAuthnSupported",b).publishCounterOnce(String(a))}function cb(a){var b=new F.PlatformDetector,c=new F.AmazonDomainHelper;if(!b.isRunningInWebView())return q;c=c.getMarketplaceDomain(x.location.hostname);
var g=new URLSearchParams(x.location.search);g=Object.fromEntries(g.entries());g=g["openid.assoc_handle"]?g["openid.assoc_handle"]:"no_assoc_handle";var d=b.getPlatform();b=a.getActionId();c="".concat(a.getSiteName(),"_").concat(d,"_").concat(c);g="".concat(Mb,"_").concat(g);a=a.getMethodName();return new F.IdentityKatalMetricsPublisher(c,g,a,b)}function na(a){"@babel/helpers - typeof";return na="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":
r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},na(a)}function db(a,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,eb(g.key),g)}}function Nb(a,b,c){b&&db(a.prototype,b);c&&db(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function fb(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var g=
Object.getOwnPropertySymbols(a);b&&(g=g.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable}));c.push.apply(c,g)}return c}function Ob(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?fb(Object(c),!0).forEach(function(b){var g=c[b];b=eb(b);b in a?Object.defineProperty(a,b,{value:g,enumerable:!0,configurable:!0,writable:!0}):a[b]=g}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):fb(Object(c)).forEach(function(b){Object.defineProperty(a,
b,Object.getOwnPropertyDescriptor(c,b))})}return a}function eb(a){a:if("object"===na(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==na(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===na(a)?a:String(a)}function Pb(a,b){return navigator.credentials.create(Ob({publicKey:a.createOptions},a.mediation!=q&&{mediation:a.mediation})).then(function(a){return null==a?A.quickBuild(B.CredentialCreationFailed):
a})["catch"](function(a){console.warn(a);b.publishErrorMetrics(a);if(a instanceof DOMException){if("NotAllowedError"===a.name)return A.quickBuild(B.NotAllowedError);if("InvalidStateError"===a.name)return A.quickBuild(B.InvalidStateError);if("AbortError"===a.name)return A.quickBuild(B.AbortError)}return A.quickBuild(B.CredentialCreationFailed)})}function da(a){"@babel/helpers - typeof";return da="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":
r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},da(a)}function Ka(){function a(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}),a[b]}function b(a,b,c,g){b=Object.create((b&&b.prototype instanceof d?b:d).prototype);g=new r(g||[]);return A(b,"_invoke",{value:l(a,c,g)}),b}function c(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(oa){return{type:"throw",
arg:oa}}}function d(){}function e(){}function f(){}function h(b){["next","throw","return"].forEach(function(c){a(b,c,function(a){return this._invoke(c,a)})})}function k(a,b){function d(g,e,w,f){g=c(a[g],a,e);if("throw"!==g.type){var W=g.arg;return(g=W.value)&&"object"==da(g)&&y.call(g,"__await")?b.resolve(g.__await).then(function(a){d("next",a,w,f)},function(a){d("throw",a,w,f)}):b.resolve(g).then(function(a){W.value=a;w(W)},function(a){return d("throw",a,w,f)})}f(g.arg)}var g;A(this,"_invoke",{value:function(a,
c){function w(){return new b(function(b,g){d(a,c,b,g)})}return g=g?g.then(w,w):w()}})}function l(a,b,g){var d="suspendedStart";return function(w,e){if("executing"===d)throw Error("Generator is already running");if("completed"===d){if("throw"===w)throw e;return v()}g.method=w;for(g.arg=e;;){if(w=g.delegate)if(w=m(w,g)){if(w===S)continue;return w}if("next"===g.method)g.sent=g._sent=g.arg;else if("throw"===g.method){if("suspendedStart"===d)throw d="completed",g.arg;g.dispatchException(g.arg)}else"return"===
g.method&&g.abrupt("return",g.arg);d="executing";w=c(a,b,g);if("normal"===w.type){if(d=g.done?"completed":"suspendedYield",w.arg===S)continue;return{value:w.arg,done:g.done}}"throw"===w.type&&(d="completed",g.method="throw",g.arg=w.arg)}}}function m(a,b){var g=b.method,d=a.iterator[g];if(q===d)return b.delegate=null,"throw"===g&&a.iterator["return"]&&(b.method="return",b.arg=q,m(a,b),"throw"===b.method)||"return"!==g&&(b.method="throw",b.arg=new TypeError("The iterator does not provide a '"+g+"' method")),
S;g=c(d,a.iterator,b.arg);return"throw"===g.type?(b.method="throw",b.arg=g.arg,b.delegate=null,S):(g=g.arg)?g.done?(b[a.resultName]=g.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=q),b.delegate=null,S):g:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,S)}function n(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function p(a){var b=a.completion||{};b.type="normal";delete b.arg;
a.completion=b}function r(a){this.tryEntries=[{tryLoc:"root"}];a.forEach(n,this);this.reset(!0)}function t(a){if(a){var b=a[B];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1;b=function H(){for(;++c<a.length;)if(y.call(a,c))return H.value=a[c],H.done=!1,H;return H.value=q,H.done=!0,H};return b.next=b}}return{next:v}}function v(){return{value:q,done:!0}}Ka=function(){return u};var u={},x=Object.prototype,y=x.hasOwnProperty,A=Object.defineProperty||function(a,
b,c){a[b]=c.value},z="function"==typeof Symbol?Symbol:{},B=z.iterator||"@@iterator",C=z.asyncIterator||"@@asyncIterator",D=z.toStringTag||"@@toStringTag";try{a({},"")}catch(gb){a=function(a,b,c){return a[b]=c}}u.wrap=b;var S={};z={};a(z,B,function(){return this});var E=Object.getPrototypeOf;(E=E&&E(E(t([]))))&&E!==x&&y.call(E,B)&&(z=E);var F=f.prototype=d.prototype=Object.create(z);return e.prototype=f,A(F,"constructor",{value:f,configurable:!0}),A(f,"constructor",{value:e,configurable:!0}),e.displayName=
a(f,D,"GeneratorFunction"),u.isGeneratorFunction=function(a){a="function"==typeof a&&a.constructor;return!!a&&(a===e||"GeneratorFunction"===(a.displayName||a.name))},u.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,f):(b.__proto__=f,a(b,D,"GeneratorFunction")),b.prototype=Object.create(F),b},u.awrap=function(a){return{__await:a}},h(k.prototype),a(k.prototype,C,function(){return this}),u.AsyncIterator=k,u.async=function(a,c,g,d,w){void 0===w&&(w=Promise);var e=new k(b(a,c,g,
d),w);return u.isGeneratorFunction(c)?e:e.next().then(function(a){return a.done?a.value:e.next()})},h(F),a(F,D,"Generator"),a(F,B,function(){return this}),a(F,"toString",function(){return"[object Generator]"}),u.keys=function(a){var b=Object(a),c=[],g;for(g in b)c.push(g);return c.reverse(),function J(){for(;c.length;){var a=c.pop();if(a in b)return J.value=a,J.done=!1,J}return J.done=!0,J}},u.values=t,r.prototype={constructor:r,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=q,
this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(p),!a)for(var b in this)"t"===b.charAt(0)&&y.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=q)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function b(b,g){return w.type="throw",w.arg=a,c.next=b,g&&(c.method="next",c.arg=q),!!g}if(this.done)throw a;for(var c=this,g=this.tryEntries.length-1;0<=g;--g){var d=this.tryEntries[g],
w=d.completion;if("root"===d.tryLoc)return b("end");if(d.tryLoc<=this.prev){var e=y.call(d,"catchLoc"),f=y.call(d,"finallyLoc");if(e&&f){if(this.prev<d.catchLoc)return b(d.catchLoc,!0);if(this.prev<d.finallyLoc)return b(d.finallyLoc)}else if(e){if(this.prev<d.catchLoc)return b(d.catchLoc,!0)}else{if(!f)throw Error("try statement without catch or finally");if(this.prev<d.finallyLoc)return b(d.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;0<=c;--c){var g=this.tryEntries[c];
if(g.tryLoc<=this.prev&&y.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var d=g;break}}d&&("break"===a||"continue"===a)&&d.tryLoc<=b&&b<=d.finallyLoc&&(d=null);c=d?d.completion:{};return c.type=a,c.arg=b,d?(this.method="next",this.next=d.finallyLoc,S):this.complete(c)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),
S},finish:function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),p(c),S}},"catch":function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var c=this.tryEntries[b];if(c.tryLoc===a){a=c.completion;if("throw"===a.type){var g=a.arg;p(c)}return g}}throw Error("illegal catch attempt");},delegateYield:function(a,b,c){return this.delegate={iterator:t(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=q),
S}},u}function hb(a,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,Rb(g.key),g)}}function Sb(a,b,c){b&&hb(a.prototype,b);c&&hb(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function Rb(a){a:if("object"===da(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==da(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===
da(a)?a:String(a)}function ib(a,b,c,d,e,f,h){try{var g=a[f](h),w=g.value}catch(pa){c(pa);return}g.done?b(w):Promise.resolve(w).then(d,e)}function Tb(a){return function(){var b=this,c=arguments;return new Promise(function(g,d){function w(a){ib(f,g,d,w,e,"next",a)}function e(a){ib(f,g,d,w,e,"throw",a)}var f=a.apply(b,c);w(q)})}}function jb(a,b){return La.apply(this,arguments)}function La(){La=Tb(Ka().mark(function W(a,b){var c,d,w,e;return Ka().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return c=
Ub.getInstance(),d=cb(b),w=new Ma(d?d:b),null===d||void 0===d?void 0:d.publishCounterOnce("Start"),f.next=6,c.create(a,w);case 6:return e=f.sent,e instanceof A||(null===d||void 0===d?void 0:d.publishCounterOnce("Success")),f.abrupt("return",e);case 9:case "end":return f.stop()}},W)}));return La.apply(this,arguments)}function qa(a){"@babel/helpers - typeof";return qa="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&
"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},qa(a)}function kb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,Vb(d.key),d)}}function Wb(a,b,c){b&&kb(a.prototype,b);c&&kb(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function Vb(a){a:if("object"===qa(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,
"string");if("object"!==qa(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===qa(a)?a:String(a)}function Xb(a,b){a={relyingPartyId:a.relyingPartyId,challenge:a.challenge,timeout:a.timeout,allowedCredentials:a.allowedCredentials,userVerification:a.userVerification,mediation:a.mediation,autofillMode:a.autofillMode,preferImmediatelyAvailableCredentials:a.preferImmediatelyAvailableCredentials};return(new C.v1).getNativePasskeyCredential(a).then(function(a){return a})["catch"](function(a){b.publishErrorMetrics(a);
if(a instanceof C.KV){if(ja(a)){var c;if(a.name===C.DO.AIPasskeyAuthErrorSystem&&"1001"===(null===(c=a.iosErrorDetail)||void 0===c?void 0:c.code)){var d,g;a=null!==(d=a.iosErrorDetail)&&void 0!==d&&null!==(g=d.message)&&void 0!==g&&g.includes("No credentials available for login")?A.quickBuild(B.NoCredentialsError):A.quickBuild(B.NotAllowedError)}else a=A.quickBuild(B.NativeCredentialRetrievalFailed);return a}if(Ya(a))return Yb(a)}return A.quickBuild(B.NativeCredentialRetrievalFailed)})}function Yb(a){switch(a.name){case C.UH.AUTHENTICATION_NO_MATCHING_CREDENTIALS:return A.quickBuild(B.NoCredentialsError);
case C.UH.AUTHENTICATION_CANCELLED:case C.UH.AUTHENTICATION_TIMEOUT:return A.quickBuild(B.NotAllowedError);case C.UH.UNABLE_TO_AUTHENTICATE:return A.quickBuild(B.NativeDeviceIncapable);case C.UH.AUTHENTICATION_REQUEST_JSON_PARSE_FAILED:return A.quickBuild(B.InvalidInput);default:return A.quickBuild(B.NativeCredentialRetrievalFailed)}}function ra(a){"@babel/helpers - typeof";return ra="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:
function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},ra(a)}function lb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,mb(d.key),d)}}function Zb(a,b,c){b&&lb(a.prototype,b);c&&lb(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function nb(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=
Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable}));c.push.apply(c,d)}return c}function $b(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?nb(Object(c),!0).forEach(function(b){var d=c[b];b=mb(b);b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):nb(Object(c)).forEach(function(b){Object.defineProperty(a,
b,Object.getOwnPropertyDescriptor(c,b))})}return a}function mb(a){a:if("object"===ra(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==ra(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===ra(a)?a:String(a)}function ac(a,b){var c,d={rpId:a.relyingPartyId,allowCredentials:null===(c=a.allowedCredentials)||void 0===c?void 0:c.map(E),challenge:Ha(a.challenge),userVerification:a.userVerification,timeout:a.timeout};
return navigator.credentials.get($b({publicKey:d,mediation:a.mediation},!!a.signal&&{signal:a.signal})).then(function(a){return a})["catch"](function(c){console.warn(c);b.publishErrorMetrics(c);if(c instanceof DOMException){if("NotAllowedError"===c.name)return A.quickBuild(B.NotAllowedError);if("InvalidStateError"===c.name)return A.quickBuild(B.InvalidStateError);if("AbortError"===c.name)return a.signal?A.quickBuild(B.AbortError,q,a.signal.reason):A.quickBuild(B.UnexpectedAbortError)}return a.signal&&
c===a.signal.reason?A.quickBuild(B.AbortError,q,a.signal.reason):A.quickBuild(B.CredentialRetrievalFailed)})}function ea(a){"@babel/helpers - typeof";return ea="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},ea(a)}function Na(){function a(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,
configurable:!0,writable:!0}),a[b]}function b(a,b,c,g){b=Object.create((b&&b.prototype instanceof d?b:d).prototype);g=new r(g||[]);return z(b,"_invoke",{value:m(a,c,g)}),b}function c(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(oa){return{type:"throw",arg:oa}}}function d(){}function e(){}function f(){}function h(b){["next","throw","return"].forEach(function(c){a(b,c,function(a){return this._invoke(c,a)})})}function k(a,b){function d(g,e,w,f){g=c(a[g],a,e);if("throw"!==g.type){var h=g.arg;
return(g=h.value)&&"object"==ea(g)&&y.call(g,"__await")?b.resolve(g.__await).then(function(a){d("next",a,w,f)},function(a){d("throw",a,w,f)}):b.resolve(g).then(function(a){h.value=a;w(h)},function(a){return d("throw",a,w,f)})}f(g.arg)}var g;z(this,"_invoke",{value:function(a,c){function e(){return new b(function(b,g){d(a,c,b,g)})}return g=g?g.then(e,e):e()}})}function m(a,b,d){var g="suspendedStart";return function(e,w){if("executing"===g)throw Error("Generator is already running");if("completed"===
g){if("throw"===e)throw w;return u()}d.method=e;for(d.arg=w;;){if(e=d.delegate)if(e=l(e,d)){if(e===D)continue;return e}if("next"===d.method)d.sent=d._sent=d.arg;else if("throw"===d.method){if("suspendedStart"===g)throw g="completed",d.arg;d.dispatchException(d.arg)}else"return"===d.method&&d.abrupt("return",d.arg);g="executing";e=c(a,b,d);if("normal"===e.type){if(g=d.done?"completed":"suspendedYield",e.arg===D)continue;return{value:e.arg,done:d.done}}"throw"===e.type&&(g="completed",d.method="throw",
d.arg=e.arg)}}}function l(a,b){var d=b.method,g=a.iterator[d];if(q===g)return b.delegate=null,"throw"===d&&a.iterator["return"]&&(b.method="return",b.arg=q,l(a,b),"throw"===b.method)||"return"!==d&&(b.method="throw",b.arg=new TypeError("The iterator does not provide a '"+d+"' method")),D;d=c(g,a.iterator,b.arg);return"throw"===d.type?(b.method="throw",b.arg=d.arg,b.delegate=null,D):(d=d.arg)?d.done?(b[a.resultName]=d.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=q),b.delegate=
null,D):d:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,D)}function n(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function p(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function r(a){this.tryEntries=[{tryLoc:"root"}];a.forEach(n,this);this.reset(!0)}function t(a){if(a){var b=a[B];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=
-1;b=function H(){for(;++c<a.length;)if(y.call(a,c))return H.value=a[c],H.done=!1,H;return H.value=q,H.done=!0,H};return b.next=b}}return{next:u}}function u(){return{value:q,done:!0}}Na=function(){return v};var v={},x=Object.prototype,y=x.hasOwnProperty,z=Object.defineProperty||function(a,b,c){a[b]=c.value},A="function"==typeof Symbol?Symbol:{},B=A.iterator||"@@iterator",C=A.asyncIterator||"@@asyncIterator",E=A.toStringTag||"@@toStringTag";try{a({},"")}catch(gb){a=function(a,b,c){return a[b]=c}}v.wrap=
b;var D={};A={};a(A,B,function(){return this});var F=Object.getPrototypeOf;(F=F&&F(F(t([]))))&&F!==x&&y.call(F,B)&&(A=F);var G=f.prototype=d.prototype=Object.create(A);return e.prototype=f,z(G,"constructor",{value:f,configurable:!0}),z(f,"constructor",{value:e,configurable:!0}),e.displayName=a(f,E,"GeneratorFunction"),v.isGeneratorFunction=function(a){a="function"==typeof a&&a.constructor;return!!a&&(a===e||"GeneratorFunction"===(a.displayName||a.name))},v.mark=function(b){return Object.setPrototypeOf?
Object.setPrototypeOf(b,f):(b.__proto__=f,a(b,E,"GeneratorFunction")),b.prototype=Object.create(G),b},v.awrap=function(a){return{__await:a}},h(k.prototype),a(k.prototype,C,function(){return this}),v.AsyncIterator=k,v.async=function(a,c,d,g,e){void 0===e&&(e=Promise);var w=new k(b(a,c,d,g),e);return v.isGeneratorFunction(c)?w:w.next().then(function(a){return a.done?a.value:w.next()})},h(G),a(G,E,"Generator"),a(G,B,function(){return this}),a(G,"toString",function(){return"[object Generator]"}),v.keys=
function(a){var b=Object(a),c=[],d;for(d in b)c.push(d);return c.reverse(),function J(){for(;c.length;){var a=c.pop();if(a in b)return J.value=a,J.done=!1,J}return J.done=!0,J}},v.values=t,r.prototype={constructor:r,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=q,this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(p),!a)for(var b in this)"t"===b.charAt(0)&&y.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=q)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;
if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function b(b,d){return e.type="throw",e.arg=a,c.next=b,d&&(c.method="next",c.arg=q),!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;0<=d;--d){var g=this.tryEntries[d],e=g.completion;if("root"===g.tryLoc)return b("end");if(g.tryLoc<=this.prev){var w=y.call(g,"catchLoc"),f=y.call(g,"finallyLoc");if(w&&f){if(this.prev<g.catchLoc)return b(g.catchLoc,!0);if(this.prev<g.finallyLoc)return b(g.finallyLoc)}else if(w){if(this.prev<
g.catchLoc)return b(g.catchLoc,!0)}else{if(!f)throw Error("try statement without catch or finally");if(this.prev<g.finallyLoc)return b(g.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;0<=c;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&y.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var g=d;break}}g&&("break"===a||"continue"===a)&&g.tryLoc<=b&&b<=g.finallyLoc&&(g=null);c=g?g.completion:{};return c.type=a,c.arg=b,g?(this.method="next",this.next=g.finallyLoc,D):this.complete(c)},
complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),D},finish:function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),p(c),D}},"catch":function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var c=this.tryEntries[b];if(c.tryLoc===
a){a=c.completion;if("throw"===a.type){var d=a.arg;p(c)}return d}}throw Error("illegal catch attempt");},delegateYield:function(a,b,c){return this.delegate={iterator:t(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=q),D}},v}function ob(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,bc(d.key),d)}}function cc(a,b,c){b&&ob(a.prototype,b);c&&ob(a,c);Object.defineProperty(a,"prototype",{writable:!1});
return a}function bc(a){a:if("object"===ea(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==ea(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===ea(a)?a:String(a)}function pb(a,b,c,d,e,f,h){try{var g=a[f](h),w=g.value}catch(pa){c(pa);return}g.done?b(w):Promise.resolve(w).then(d,e)}function dc(a){return function(){var b=this,c=arguments;return new Promise(function(d,g){function e(a){pb(f,d,g,e,w,"next",
a)}function w(a){pb(f,d,g,e,w,"throw",a)}var f=a.apply(b,c);e(q)})}}function Oa(a,b){return Pa.apply(this,arguments)}function Pa(){Pa=dc(Na().mark(function W(a,b){var c,d,e,w;return Na().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return c=ec.getInstance("conditional"===a.mediation),d=cb(b),e=new Ma(d?d:b),null===d||void 0===d?void 0:d.publishCounterOnce("Start"),null===b||void 0===b?void 0:b.publishCounterOnce("Start"),f.next=7,c.get(a,e);case 7:return w=f.sent,w instanceof A||(null===d||
void 0===d?void 0:d.publishCounterOnce("Success"),null===b||void 0===b?void 0:b.publishCounterOnce("Success")),f.abrupt("return",w);case 10:case "end":return f.stop()}},W)}));return Pa.apply(this,arguments)}function Da(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)a[d]=c[d]}return a}function Qa(a,b){function c(c,d,g){if("undefined"!==typeof document){g=Da({},b,g);"number"===typeof g.expires&&(g.expires=new Date(Date.now()+864E5*g.expires));g.expires&&(g.expires=g.expires.toUTCString());
c=encodeURIComponent(c).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var e="",w;for(w in g)g[w]&&(e+="; "+w,!0!==g[w]&&(e+="\x3d"+g[w].split(";")[0]));return document.cookie=c+"\x3d"+a.write(d,c)+e}}return Object.create({set:c,get:function(b){if("undefined"!==typeof document&&(!arguments.length||b)){for(var c=document.cookie?document.cookie.split("; "):[],d={},g=0;g<c.length;g++){var e=c[g].split("\x3d"),w=e.slice(1).join("\x3d");try{var f=decodeURIComponent(e[0]);d[f]=
a.read(w,f);if(b===f)break}catch(Hc){}}return b?d[b]:d}},remove:function(a,b){c(a,"",Da({},b,{expires:-1}))},withAttributes:function(a){return Qa(this.converter,Da({},this.attributes,a))},withConverter:function(a){return Qa(Da({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(b)},converter:{value:Object.freeze(a)}})}function sa(a){"@babel/helpers - typeof";return sa="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":
r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},sa(a)}function qb(a,b){var c=Array.isArray(a)?a:void 0;if(!c)a:{var d=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=d){var g,e,w,f=[],h=!0,k=!1;try{if(e=(d=d.call(a)).next,0===b){if(Object(d)!==d){c=void 0;break a}h=!1}else for(;!(h=(g=e.call(d)).done)&&(f.push(g.value),f.length!==b);h=!0);}catch(Qb){k=!0;var l=
Qb}finally{try{if(!h&&null!=d["return"]&&(w=d["return"](),Object(w)!==w)){c=void 0;break a}}finally{if(k)throw l;}}c=f}else c=void 0}if(!(g=c))a:{if(a){if("string"===typeof a){g=rb(a,b);break a}g=Object.prototype.toString.call(a).slice(8,-1);"Object"===g&&a.constructor&&(g=a.constructor.name);if("Map"===g||"Set"===g){g=Array.from(a);break a}if("Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)){g=rb(a,b);break a}}g=void 0}if(!(a=g))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return a}function rb(a,b){if(null==b||b>a.length)b=a.length;for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function fc(a){ma({requireConditionalMediationAvailable:!0,requireOnDeviceAuthenticatorAvailable:!0,shouldDisableMetrics:!0,isWebAuthnSupportedMobileConfig:null===a||void 0===a?void 0:a.isWebAuthnSupportedMobileConfig}).then(function(a){document.cookie="id_pkel\x3dn"+(a?"1":"0")+"; expires\x3d"+(new Date(Date.now()+9E5)).toUTCString()+"; path\x3d/; secure; samesite\x3dstrict;";var b={},c=
Ra.N;a=a?"1":"0";a:if("object"===sa(c)&&null!==c){var d=c[Symbol.toPrimitive];if(d!==q){c=d.call(c,"string");if("object"!==sa(c))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}c=String(c)}c="symbol"===sa(c)?c:String(c);c in b?Object.defineProperty(b,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):b[c]=a;sb(b)})["catch"](function(a){console.error(a)})}function sb(a,b){function c(a,b){var c={};Object.entries(a).forEach(function(a){var d=qb(a,2);a=d[0];d=d[1];var g;
if(g="1"===d||"0"===d)g=Object.values(Ra).includes(a);g?c[a]=d:(b.publishCounterOnce("PasskeyCookie:Set:InvalidValue"),b.publishStringTruncate("PasskeyCookie:Set:InvalidValue","".concat(a,":").concat(d)))});return c}if(a!=q&&0!==Object.entries(a).length){b||(b=N("PasskeyCookie",(0,F.generateUUID)()));try{var d=c(a,b),g=tb.get("id_pk");if(g!=q){var e=JSON.parse(x.atob(g));Object.entries(d).forEach(function(a){a=qb(a,2);e[a[0]]=a[1]});var w=JSON.stringify(e)}else w=JSON.stringify(d);w&&(tb.set("id_pk",
x.btoa(w),{expires:new Date(Date.now()+9E5),path:"/",secure:!0,sameSite:"strict"}),b.publishCounterOnce("PasskeyCookie:Set:Success"))}catch(O){b.publishCounterOnce("PasskeyCookie:Set:Failure"),O instanceof Error&&b.publishStringTruncate("PasskeyCookie:Set:Error:".concat(O.name),O.message),console.error(O)}}}function ta(a){"@babel/helpers - typeof";return ta="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==
typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},ta(a)}function ub(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable}));c.push.apply(c,d)}return c}function vb(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ub(Object(c),!0).forEach(function(b){var d=c[b];a:if("object"===ta(b)&&
null!==b){var g=b[Symbol.toPrimitive];if(g!==q){b=g.call(b,"string");if("object"!==ta(b))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}b="symbol"===ta(b)?b:String(b);b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ub(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}
function gc(a){var b=new URL(x.origin);b.pathname="/ax/claim/webauthn/enroll";b.searchParams.append("operation","startEnroll");a.associationHandle&&b.searchParams.append("openid.assoc_handle",a.associationHandle);a.pageType&&b.searchParams.append("pageType",a.pageType);a.returnTo&&b.searchParams.append("returnTo",a.returnTo);var c={"action-id":a.actionId},d;a.enrollWorkflowName&&(d={enrollWorkflowName:a.enrollWorkflowName});return Ea(b,d,c).then(function(a){return a.json().then(function(b){if(a.ok){try{var c=
I(b.webAuthNCreateParameters)}catch(O){return b=N("PasskeyFetchPost",(0,F.generateUUID)()),b.publishCounterOnce("PasskeyFetchPost:CreateParamsDecodingFailure"),O instanceof Error&&b.publishStringTruncate("PasskeyFetchPost:CreateParamsDecodingFailure:".concat(O.name),O.message),console.error(O),A.quickBuild(B.CreateParamsDecodingFailure)}return{credentialParameters:c.publicKey,challengeId:b.webAuthNChallengeId,arb:b.arb,mediation:c.mediation}}return Fa(b,a.status)})})["catch"](Ga)}function hc(a){var b=
new URL(x.origin);b.pathname="/ax/claim/webauthn/enroll";b.searchParams.append("operation","completeEnroll");a.associationHandle&&b.searchParams.append("openid.assoc_handle",a.associationHandle);a.pageType&&b.searchParams.append("pageType",a.pageType);a.returnTo&&b.searchParams.append("returnTo",a.returnTo);var c=vb({authenticatorAttestation:a.authenticatorAttestation,challengeId:a.challengeId,arb:a.arb},a.enrollWorkflowName&&{enrollWorkflowName:a.enrollWorkflowName});return Ea(b,c,{"action-id":a.actionId}).then(function(a){return a.ok?
{}:a.json().then(function(b){return Fa(b,a.status)})})["catch"](Ga)}function ic(a){var b=new URL(x.origin);b.pathname="/ax/claim/webauthn/remove";if("undefined"!==typeof a.kavachCredentialList){var c;b.searchParams.append("operation","removeSpecifiedPasskeys");null===(c=a.kavachCredentialList)||void 0===c?void 0:c.forEach(function(a){b.searchParams.append("kavachCredentialList",a)})}else b.searchParams.append("operation","removeEnrolledPasskeys");a.associationHandle&&b.searchParams.append("openid.assoc_handle",
a.associationHandle);return Ea(b,q,{"action-id":a.actionId}).then(function(a){return a.ok?{}:a.json().then(function(b){return Fa(b,a.status)})})["catch"](Ga)}function jc(a){var b=new URL(x.origin);b.pathname="/ax/claim/webauthn/auth";b.searchParams.append("operation","completePasskeyAuth");return Ea(b,{authenticationAssertion:a.authenticationAssertion,challengeId:a.challengeId,arb:a.arb}).then(function(a){return a.json().then(function(b){return a.ok?ua.success(b.arb):Fa(b,a.status)})})["catch"](Ga)}
function kc(){var a=new URL(x.origin);a.pathname="/ax/claim/webauthn/auth";return fetch(a).then(function(a){return a.ok?(a=a.headers.get("x-csrf-token"))?a:Promise.reject(A.quickBuild(B.MissingCsrfToken)):Promise.reject(A.quickBuild(B.MissingCsrfToken))})["catch"](function(a){return Promise.reject(A.quickBuild(B.MissingCsrfToken))})}function Ea(a,b,c){return lc().then(function(d){d={method:"POST",headers:vb({"anti-csrftoken-a2z":d},c)};b&&(d.body=new URLSearchParams(Object.entries(b)));return fetch(a,
d)})}function lc(){var a,b=document.querySelector("#identity-passkey");if(b instanceof HTMLElement){var c;var d=null===b||void 0===b?void 0:null===(c=b.dataset)||void 0===c?void 0:c.csrfToken}b=d||(null===(a=document.querySelector('#ap_login_form input[name\x3d"anti-csrftoken-a2z"], input[name\x3d"csrf-token"]'))||void 0===a?void 0:a.getAttribute("value"));a=N("PasskeyCsrfToken",(0,F.generateUUID)());if(b)return Promise.resolve(b);a.publishCounterOnce("PasskeyCsrfToken:Get:Ajax");return kc()}function Fa(a,
b){if(500<=b&&600>b)return A.quickBuild(B.InternalFailure);switch(a.error){case "UnauthorizedAccess":return A.quickBuild(B.UnauthorizedAccess,a.redirectTo);case "EnrollmentFailure":return A.quickBuild(B.EnrollmentFailed);case "IneligibleError":case "WeblabNotEnabled":case "InvalidDevice":case "InvalidInput":return A.quickBuild(B.InvalidInput);case "WebAuthNValidationFailure":return A.quickBuild(B.ValidationFailure);case "CredentialNotFound":return A.quickBuild(B.CredentialNotFound);case "InternalFailure":case "RetryableInternalFailure":return A.quickBuild(B.InternalFailure)}return A.quickBuild(B.UnrecognizedFailure)}
function Ga(a){return a instanceof Error?(console.log(a),A.quickBuild(B.NetworkFailure)):a}function va(a){"@babel/helpers - typeof";return va="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},va(a)}function wb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=
!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,mc(d.key),d)}}function nc(a,b,c){b&&wb(a.prototype,b);c&&wb(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function mc(a){a:if("object"===va(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==va(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===va(a)?a:String(a)}function oc(a){try{return x.PublicKeyCredential.getClientCapabilities().then(function(a){return null==
a?A.quickBuild(B.GetClientCapabilitiesFailed):a})["catch"](function(b){console.warn(b);a.publishErrorMetrics(b);return b instanceof DOMException&&"NotAllowedError"===b.name?A.quickBuild(B.NotAllowedError,q,q,b):A.quickBuild(B.GetClientCapabilitiesFailed,q,q,b)})}catch(w){return console.warn(w),a.publishErrorMetrics(w),Promise.resolve(A.quickBuild(B.UnsupportedOperation,q,q,w))}}function fa(a){"@babel/helpers - typeof";return fa="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===
typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},fa(a)}function Sa(){function a(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}),a[b]}function b(a,b,c,e){b=Object.create((b&&b.prototype instanceof d?b:d).prototype);e=new r(e||[]);return A(b,"_invoke",{value:l(a,c,e)}),b}function c(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(oa){return{type:"throw",
arg:oa}}}function d(){}function e(){}function f(){}function h(b){["next","throw","return"].forEach(function(c){a(b,c,function(a){return this._invoke(c,a)})})}function k(a,b){function d(e,g,f,w){e=c(a[e],a,g);if("throw"!==e.type){var h=e.arg;return(e=h.value)&&"object"==fa(e)&&x.call(e,"__await")?b.resolve(e.__await).then(function(a){d("next",a,f,w)},function(a){d("throw",a,f,w)}):b.resolve(e).then(function(a){h.value=a;f(h)},function(a){return d("throw",a,f,w)})}w(e.arg)}var e;A(this,"_invoke",{value:function(a,
c){function g(){return new b(function(b,e){d(a,c,b,e)})}return e=e?e.then(g,g):g()}})}function l(a,b,d){var e="suspendedStart";return function(g,f){if("executing"===e)throw Error("Generator is already running");if("completed"===e){if("throw"===g)throw f;return v()}d.method=g;for(d.arg=f;;){if(g=d.delegate)if(g=m(g,d)){if(g===C)continue;return g}if("next"===d.method)d.sent=d._sent=d.arg;else if("throw"===d.method){if("suspendedStart"===e)throw e="completed",d.arg;d.dispatchException(d.arg)}else"return"===
d.method&&d.abrupt("return",d.arg);e="executing";g=c(a,b,d);if("normal"===g.type){if(e=d.done?"completed":"suspendedYield",g.arg===C)continue;return{value:g.arg,done:d.done}}"throw"===g.type&&(e="completed",d.method="throw",d.arg=g.arg)}}}function m(a,b){var d=b.method,e=a.iterator[d];if(q===e)return b.delegate=null,"throw"===d&&a.iterator["return"]&&(b.method="return",b.arg=q,m(a,b),"throw"===b.method)||"return"!==d&&(b.method="throw",b.arg=new TypeError("The iterator does not provide a '"+d+"' method")),
C;d=c(e,a.iterator,b.arg);return"throw"===d.type?(b.method="throw",b.arg=d.arg,b.delegate=null,C):(d=d.arg)?d.done?(b[a.resultName]=d.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=q),b.delegate=null,C):d:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,C)}function p(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function n(a){var b=a.completion||{};b.type="normal";delete b.arg;
a.completion=b}function r(a){this.tryEntries=[{tryLoc:"root"}];a.forEach(p,this);this.reset(!0)}function t(a){if(a){var b=a[B];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1;b=function H(){for(;++c<a.length;)if(x.call(a,c))return H.value=a[c],H.done=!1,H;return H.value=q,H.done=!0,H};return b.next=b}}return{next:v}}function v(){return{value:q,done:!0}}Sa=function(){return u};var u={},y=Object.prototype,x=y.hasOwnProperty,A=Object.defineProperty||function(a,
b,c){a[b]=c.value},z="function"==typeof Symbol?Symbol:{},B=z.iterator||"@@iterator",D=z.asyncIterator||"@@asyncIterator",F=z.toStringTag||"@@toStringTag";try{a({},"")}catch(gb){a=function(a,b,c){return a[b]=c}}u.wrap=b;var C={};z={};a(z,B,function(){return this});var E=Object.getPrototypeOf;(E=E&&E(E(t([]))))&&E!==y&&x.call(E,B)&&(z=E);var G=f.prototype=d.prototype=Object.create(z);return e.prototype=f,A(G,"constructor",{value:f,configurable:!0}),A(f,"constructor",{value:e,configurable:!0}),e.displayName=
a(f,F,"GeneratorFunction"),u.isGeneratorFunction=function(a){a="function"==typeof a&&a.constructor;return!!a&&(a===e||"GeneratorFunction"===(a.displayName||a.name))},u.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,f):(b.__proto__=f,a(b,F,"GeneratorFunction")),b.prototype=Object.create(G),b},u.awrap=function(a){return{__await:a}},h(k.prototype),a(k.prototype,D,function(){return this}),u.AsyncIterator=k,u.async=function(a,c,d,e,g){void 0===g&&(g=Promise);var f=new k(b(a,c,d,
e),g);return u.isGeneratorFunction(c)?f:f.next().then(function(a){return a.done?a.value:f.next()})},h(G),a(G,F,"Generator"),a(G,B,function(){return this}),a(G,"toString",function(){return"[object Generator]"}),u.keys=function(a){var b=Object(a),c=[],d;for(d in b)c.push(d);return c.reverse(),function J(){for(;c.length;){var a=c.pop();if(a in b)return J.value=a,J.done=!1,J}return J.done=!0,J}},u.values=t,r.prototype={constructor:r,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=q,
this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(n),!a)for(var b in this)"t"===b.charAt(0)&&x.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=q)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function b(b,d){return g.type="throw",g.arg=a,c.next=b,d&&(c.method="next",c.arg=q),!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;0<=d;--d){var e=this.tryEntries[d],
g=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var f=x.call(e,"catchLoc"),w=x.call(e,"finallyLoc");if(f&&w){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(f){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else{if(!w)throw Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return b(e.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;0<=c;--c){var d=this.tryEntries[c];
if(d.tryLoc<=this.prev&&x.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);c=e?e.completion:{};return c.type=a,c.arg=b,e?(this.method="next",this.next=e.finallyLoc,C):this.complete(c)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),
C},finish:function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),n(c),C}},"catch":function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var c=this.tryEntries[b];if(c.tryLoc===a){a=c.completion;if("throw"===a.type){var d=a.arg;n(c)}return d}}throw Error("illegal catch attempt");},delegateYield:function(a,b,c){return this.delegate={iterator:t(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=q),
C}},u}function xb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,pc(d.key),d)}}function qc(a,b,c){b&&xb(a.prototype,b);c&&xb(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function pc(a){a:if("object"===fa(a)&&null!==a){var b=a[Symbol.toPrimitive];if(b!==q){a=b.call(a,"string");if("object"!==fa(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===
fa(a)?a:String(a)}function yb(a,b,c,d,e,f,h){try{var g=a[f](h),w=g.value}catch(pa){c(pa);return}g.done?b(w):Promise.resolve(w).then(d,e)}function rc(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function g(a){yb(w,d,e,g,f,"next",a)}function f(a){yb(w,d,e,g,f,"throw",a)}var w=a.apply(b,c);g(q)})}}function sc(a){return Ta.apply(this,arguments)}function Ta(){Ta=rc(Sa().mark(function Ib(a){var b,c;return Sa().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return b=
tc.getInstance(),c=new Ma(a),d.next=4,b.get(c);case 4:return d.abrupt("return",d.sent);case 5:case "end":return d.stop()}},Ib)}));return Ta.apply(this,arguments)}function wa(a){"@babel/helpers - typeof";return wa="function"==typeof Symbol&&"symbol"==r(Symbol.iterator)?function(a){return"undefined"===typeof a?"undefined":r(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"===typeof a?"undefined":r(a)},wa(a)}function zb(a,b){var c=
Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable}));c.push.apply(c,d)}return c}function X(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?zb(Object(c),!0).forEach(function(b){var d=c[b];b=Ab(b);b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,
Object.getOwnPropertyDescriptors(c)):zb(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function Bb(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,Ab(d.key),d)}}function uc(a,b,c){b&&Bb(a.prototype,b);c&&Bb(a,c);Object.defineProperty(a,"prototype",{writable:!1});return a}function Ab(a){a:if("object"===wa(a)&&null!==a){var b=a[Symbol.toPrimitive];
if(b!==q){a=b.call(a,"string");if("object"!==wa(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"===wa(a)?a:String(a)}function V(a){return a.then(function(a){return a instanceof A&&a.errorCodes&&a.errorCodes.every(function(a){return Object.values(B).includes(a)})?Promise.reject(a):a})}function xa(a,b,c){a instanceof Error&&(console.error(a),c.publishStringTruncate(a.name,a.message),a=A.quickBuild(B.UnrecognizedFailure));c.publishCounterOnce(a.errorCodes[0]);
return b(a)}function vc(a,b){var c=a.arb?a.arb:"defaultArb";if(a.createCredentialParameters&&a.challengeId){try{var d=I(a.createCredentialParameters)}catch(Ca){return b.publishCounterOnce("CreateParamsDecodingFailure"),Ca instanceof Error&&b.publishStringTruncate("CreateParamsDecodingFailure:".concat(Ca.name),Ca.message),console.error(Ca),Promise.reject(A.quickBuild(B.CreateParamsDecodingFailure))}a={credentialParameters:d.publicKey,challengeId:a.challengeId,arb:c,mediation:d.mediation};b.publishCounterOnce("AjaxStartEnrollSkipped");
return Promise.resolve(a)}return gc(a)}function wc(){return new xc}function yc(a,b,c,d){return new F.IdentityKatalMetricsPublisher(a,b,c,d)}K.r(ia);K.d(ia,{ClientCapabilities:function(){return zc},EnrollWorkflowName:function(){return Ac},FetchPasskeySignInAssertionResponse:function(){return Ua},GetClientCapabilitiesResponse:function(){return Va},MobileWebAuthnConfigKeys:function(){return ca},PageType:function(){return Bc},PasskeyEligibilityCookieUseCaseToken:function(){return Ra},WebAuthnEnrollResponse:function(){return Wa},
WebAuthnErrorCode:function(){return B},WebAuthnErrorDetails:function(){return A},WebAuthnRemoveResponse:function(){return Xa},WebAuthnSignInResponse:function(){return ua},createCredential:function(){return jb},defaultConfig:function(){return Cb},getCredential:function(){return Oa},getMetricsPublisher:function(){return yc},getWebAuthn:function(){return wc}});var Cb={ios_app:{nativeEnable:!0,useNativeBridgeForEnroll:!1,useNativeBridgeForSignIn:!0,useNativeBridgeForAutofill:!0,launchedApps:"com.amazon.MAPiOSLibSampleApp com.amazon.Amazon.dev com.amazon.Amazon.Enterprise com.amazon.Amazon.development com.amazon.AmazonIN.Enterprise com.amazon.AmazonUK.Enterprise com.amazon.AmazonDE.Enterprise com.amazon.AmazonFR.Enterprise com.amazon.AmazonJP.Enterprise com.amazon.Amazon com.amazon.AmazonUK com.amazon.AmazonIN com.amazon.AmazonUK com.amazon.AmazonDE com.amazon.AmazonFR com.amazon.AmazonJP".split(" "),
enrollmentWeblabsResult:!1},android_app:{nativeEnable:!0,useNativeBridgeForEnroll:!0,useNativeBridgeForSignIn:!0,useNativeBridgeForAutofill:!0,launchedApps:["com.amazon.map.sample.one","com.amazon.mShop.android.beta","com.amazon.mShop.android.shopping","in.amazon.mShop.android.shopping"],enrollmentWeblabsResult:!1}},B=function(a){a.NotAllowedError="ClientError_NotAllowedError";a.NoCredentialsError="ClientError_NoCredentialsError";a.InvalidStateError="ClientError_InvalidStateError";a.UnauthorizedAccess=
"ClientError_UnauthorizedAccess";a.UnsupportedOperation="ClientError_UnsupportedOperation";a.NetworkFailure="ClientError_NetworkFailure";a.CredentialCreationFailed="ClientError_CredentialCreationFailed";a.NativeCredentialCreationFailed="ClientError_NativeCredentialCreationFailed";a.CredentialRetrievalFailed="ClientError_CredentialRetrievalFailed";a.GetClientCapabilitiesFailed="ClientError_GetClientCapabilitiesFailed";a.NativeCredentialRetrievalFailed="ClientError_NativeCredentialRetrievalFailed";
a.NativeValidationFailure="ClientError_NativeValidationFailure";a.NativeDeviceIncapable="ClientError_NativeDeviceIncapable";a.AbortError="ClientError_AbortError";a.UnexpectedAbortError="ClientError_UnexpectedAbortError";a.CreateParamsDecodingFailure="ClientError_CreateParamsDecodingFailure";a.MissingCsrfToken="ServerError_MissingCsrfToken";a.EnrollmentFailed="ServerError_EnrollmentFailed";a.CredentialNotFound="ServerError_CredentialNotFound";a.ValidationFailure="ServerError_ValidationFailure";a.InvalidInput=
"ServerError_InvalidInput";a.InternalFailure="ServerError_InternalFailure";a.UnrecognizedFailure="ClientError_UnrecognizedFailure";return a}({}),A=function(){function a(b,c,d,e){l(this,a);this._errorCodes=v(b);c&&(this._redirectionUrl=c);d&&(this._abortReason=d);e&&(this._sourceException=e)}p(a,[{key:"appendErrorCode",value:function(a){this._errorCodes.includes(a)||this._errorCodes.push(a)}},{key:"errorCodes",get:function(){return this._errorCodes}},{key:"redirectionUrl",get:function(){return this._redirectionUrl}},
{key:"abortReason",get:function(){return this._abortReason}},{key:"sourceException",get:function(){return this._sourceException}}],[{key:"quickBuild",value:function(b,c,d,e){for(var f=arguments.length,g=Array(4<f?f-4:0),h=4;h<f;h++)g[h-4]=arguments[h];return new a([b].concat(g),c,d,e)}},{key:"dummyBuild",value:function(){return new a([])}}]);return a}(),ya=function(){function a(b){l(this,a);this._errorDetails=b}p(a,[{key:"errorCodes",get:function(){return this._errorDetails.errorCodes}},{key:"redirectionUrl",
get:function(){return this._errorDetails.redirectionUrl}},{key:"abortReason",get:function(){return this._errorDetails.abortReason}},{key:"isSuccess",get:function(){return 0==this._errorDetails.errorCodes.length}}]);return a}(),Ac=function(a){a.NUDGE="nudge";a.PASSKEY_MANAGEMENT="passkeyManagement";a.NUDGE_WITH_CONDITIONAL_CREATE="nudgeWithConditionalCreate";return a}({}),Bc=function(a){a.YOUR_ACCOUNT="YourAccount";a.YOUR_ORDERS="YourOrders";return a}({}),zc=function(a){a.CONDITIONAL_CREATE="conditionalCreate";
a.CONDITIONAL_GET="conditionalGet";a.HYBRID_TRANSPORT="hybridTransport";a.PASSKEY_PLATFORM_AUTHENTICATOR="passkeyPlatformAuthenticator";a.USER_VERIFYING_PLATFORM_AUTHENTICATOR="userVerifyingPlatformAuthenticator";a.RELATED_ORIGINS="relatedOrigins";return a}({}),Wa=function(a){function b(a){l(this,b);return d.call(this,a)}c(b,a);var d=f(b);p(b,null,[{key:"success",value:function(){return new b(A.dummyBuild())}},{key:"error",value:function(a){return new b(a)}}]);return b}(ya),Xa=function(a){function b(a){l(this,
b);return d.call(this,a)}c(b,a);var d=f(b);p(b,null,[{key:"success",value:function(){return new b(A.dummyBuild())}},{key:"error",value:function(a){return new b(a)}}]);return b}(ya),ua=function(a){function b(a,c,e){l(this,b);a=d.call(this,a);a._arb=c;a._password_credential=e;return a}c(b,a);var d=f(b);p(b,[{key:"arb",get:function(){return this._arb}},{key:"password_credential",get:function(){return this._password_credential}},{key:"isSuccess",get:function(){return this._arb!=q&&0==this._errorDetails.errorCodes.length||
this._password_credential!=q&&0==this._errorDetails.errorCodes.length}}],[{key:"success",value:function(a,c){return new b(A.dummyBuild(),a,c)}},{key:"error",value:function(a){return new b(a)}}]);return b}(ya),Ua=function(a){function b(a,c){l(this,b);a=d.call(this,a);a._assertion=c;return a}c(b,a);var d=f(b);p(b,[{key:"assertion",get:function(){return this._assertion}},{key:"isSuccess",get:function(){return this._assertion!=q&&0==this._errorDetails.errorCodes.length}}],[{key:"success",value:function(a){return new b(A.dummyBuild(),
a)}},{key:"error",value:function(a){return new b(a)}}]);return b}(ya),Va=function(a){function b(a,c){l(this,b);a=d.call(this,a);a._clientCapabilities=c;return a}c(b,a);var d=f(b);p(b,[{key:"clientCapabilities",get:function(){return this._clientCapabilities}},{key:"isSuccess",get:function(){return this._clientCapabilities!=q&&0==this._errorDetails.errorCodes.length}}],[{key:"success",value:function(a){return new b(A.dummyBuild(),a)}},{key:"error",value:function(a){return new b(a)}}]);return b}(ya),
ca=function(a){a.NATIVE_ENABLE="nativeEnable";a.USE_NATIVE_BRIDGE_FOR_ENROLL="useNativeBridgeForEnroll";a.USE_NATIVE_BRIDGE_FOR_SIGN_IN="useNativeBridgeForSignIn";a.USE_NATIVE_BRIDGE_FOR_AUTOFILL="useNativeBridgeForAutofill";a.LAUNCHED_APPS="launchedApps";a.ENROLLMENT_WEBLABS_RESULT="enrollmentWeblabsResult";return a}({}),Ra=function(a){a.N="n";a.ODP="odp";a.CC="cc";a.AF="af";return a}({}),C=K(7395),Ma=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.metricsPublisher=b}y(a,[{key:"publishErrorMetrics",value:function(a){a.iosErrorDetail?this.publishIOSErrorMetrics(a):a.androidErrorDetail?this.publishAndroidErrorMetrics(a):this.publishWebErrorMetrics(a)}},{key:"publishIOSErrorMetrics",value:function(a){var b=a.name;if(a=a.iosErrorDetail)a.code||a.message||a.domain?(b="".concat(b,":").concat(a.code||""),a="CODE:".concat(a.code||"",";DOMAIN:").concat(a.domain||"",";MESSAGE:").concat(a.message||""),this.metricsPublisher.publishCounterOnce(b),this.metricsPublisher.publishStringTruncate(b,
a)):this.metricsPublisher.publishCounterOnce(b)}},{key:"publishAndroidErrorMetrics",value:function(a){var b=new C.sB,c=a.name,d=a.androidErrorDetail;d&&(a=b.translateCredentialNativeError(a),c="PLATFORM_MSG:".concat(d.platformExceptionMessage||"",";MAP_MSG:").concat(d.mapErrorMessage||"",";CODE:").concat(c),this.metricsPublisher.publishCounterOnce(a),this.metricsPublisher.publishStringTruncate(a,c))}},{key:"publishWebErrorMetrics",value:function(a){this.metricsPublisher.publishStringTruncate(a.name,
a.message)}}]);return a}(),Cc=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}M(a,[{key:"create",value:function(a,b){return P(a.createOptions,b)}}]);return a}(),F=K(6957),ba=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.config=Cb}Ba(a,[{key:"getConfig",value:function(a){var b=this.config;if(a){a=Hb(a);var c;try{for(a.s();!(c=a.n()).done;){var d=c.value;if("object"===R(b)&&null!==
b&&d in b)b=b[d];else return q}}catch(Jb){a.e(Jb)}finally{a.f()}}return b}},{key:"injectConfiguration",value:function(a){this.config=a;this.injectSupportAppIdentifiersToNative()}},{key:"injectSupportAppIdentifiersToNative",value:function(){var a={ios_app:{launchedApps:this.getConfig(["ios_app","launchedApps"])},android_app:{launchedApps:this.getConfig(["android_app","launchedApps"])}};C.Ps.getInstance().injectNativeConfiguration(a)}}],[{key:"getInstance",value:function(){a.instance||(a.instance=new a);
return a.instance}}]);return a}(),bb={},Mb="IdentityWebAuthnNativeJSSDK",Dc=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}Nb(a,[{key:"create",value:function(a,b){return Pb(a,b)}}]);return a}(),Ub=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}Sb(a,null,[{key:"getInstance",value:function(){return Y(ca.USE_NATIVE_BRIDGE_FOR_ENROLL)?new Cc:new Dc}}]);return a}(),Ec=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");}Wb(a,[{key:"get",value:function(a,b){return Xb(a,b)}}]);return a}(),Fc=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}Zb(a,[{key:"get",value:function(a,b){return ac(a,b)}}]);return a}(),ec=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}cc(a,null,[{key:"getInstance",value:function(a){return Y(a?ca.USE_NATIVE_BRIDGE_FOR_AUTOFILL:
ca.USE_NATIVE_BRIDGE_FOR_SIGN_IN)?new Ec:new Fc}}]);return a}(),tb=Qa({read:function(a){'"'===a[0]&&(a=a.slice(1,-1));return a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(a){return encodeURIComponent(a).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),Gc=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}nc(a,[{key:"get",value:function(a){return oc(a)}}]);return a}(),tc=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");}qc(a,null,[{key:"getInstance",value:function(){return new Gc}}]);return a}(),xc=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}uc(a,[{key:"injectWebAuthnConfiguration",value:function(a,b,c){try{if(null===a||a===q||""===a.trim())c.publishCounterOnce("EmptyConfig:"+x.navigator.userAgent);else{var d="";try{d=atob(a)}catch(O){c.publishCounterOnce("ConfigDecodeError");return}try{var e=
JSON.parse(d)}catch(O){c.publishCounterOnce("ConfigParseError");return}var f={android_app:{nativeEnable:e.android.enabled,useNativeBridgeForSignIn:e.android.useNativeBridgeforSignIn,useNativeBridgeForAutofill:e.android.useNativeBridgeforAutoFill,useNativeBridgeForEnroll:e.android.useNativeBridgeforEnroll,enrollmentWeblabsResult:e.android.enrollmentWeblabsResult,launchedApps:e.android.launchedApps},ios_app:{nativeEnable:e.ios.enabled,useNativeBridgeForSignIn:e.ios.useNativeBridgeforSignIn,useNativeBridgeForAutofill:e.ios.useNativeBridgeforAutoFill,
useNativeBridgeForEnroll:e.ios.useNativeBridgeforEnroll,enrollmentWeblabsResult:e.ios.enrollmentWeblabsResult,launchedApps:e.ios.launchedApps},app_name:b};return ba.getInstance().injectConfiguration(f)}}catch(O){c.publishCounterOnce("InjectMobileSDCError")}}},{key:"injectConfiguration",value:function(a){return ba.getInstance().injectConfiguration(a)}},{key:"enrollPasskey",value:function(a){var b=(0,F.generateUUID)(),c=N("Enroll",b);c.publishCounterOnce("Start");return V(vc({actionId:b,associationHandle:a.associationHandle,
enrollWorkflowName:a.enrollWorkflowName,pageType:a.pageType,returnTo:a.returnTo,createCredentialParameters:a.createCredentialParameters,arb:a.arb,challengeId:a.challengeId},c)).then(function(d){return V(jb({createOptions:d.credentialParameters,mediation:d.mediation},c)).then(function(c){var e=c.response;e={id:c.id,response:{clientDataJSON:(0,C.$_)(e.clientDataJSON),attestationObject:(0,C.$_)(e.attestationObject),transports:e.getTransports()},clientExtensionResults:c.getClientExtensionResults(),type:c.type};
null!=c.authenticatorAttachment&&(e.authenticatorAttachment=c.authenticatorAttachment);c=JSON.stringify(e);return V(hc({authenticatorAttestation:c,challengeId:d.challengeId,pageType:a.pageType,returnTo:a.returnTo,arb:d.arb,actionId:b,associationHandle:a.associationHandle,enrollWorkflowName:a.enrollWorkflowName}))})}).then(function(){c.publishCounterOnce("Success");return Wa.success()})["catch"](function(a){return xa(a,Wa.error,c)})}},{key:"signInWithPasskey",value:function(a){var b=N(a.operationNameForMetrics,
a.actionIdForMetrics),c=X(X(X({},L(a.serializedCredentialParameters)),!!a.signal&&{signal:a.signal}),a.autofillMode!=q&&{autofillMode:a.autofillMode});return V(Oa(c,b)).then(function(c){if("password"in c)return ua.success(q,c);"Autofill"===a.operationNameForMetrics&&b.publishCounterOnce("PasskeyAutofillClicked");c={challengeId:a.challengeId,authenticationAssertion:za(G(c)),arb:a.arb};return V(jc(c))}).then(function(a){return ua.success(a.arb,a.password_credential)})["catch"](function(a){return xa(a,
ua.error,b)})}},{key:"removeEnrolledPasskeys",value:function(a){var b=a.actionId?a.actionId:(0,F.generateUUID)(),c=N("Delete",b);c.publishCounterOnce("Start");return V(ic({actionId:b,associationHandle:a.associationHandle,kavachCredentialList:a.kavachCredentialList})).then(function(){c.publishCounterOnce("Success");return Xa.success()})["catch"](function(a){return xa(a,Xa.error,c)})}},{key:"fetchPasskeySignInAssertion",value:function(a){var b=N(a.operationNameForMetrics,a.actionIdForMetrics);a=X(X(X(X({},
L(a.serializedCredentialParameters)),a.signal!=q&&{signal:a.signal}),a.autofillMode!=q&&{autofillMode:a.autofillMode}),a.preferImmediatelyAvailableCredentials!=q&&{preferImmediatelyAvailableCredentials:a.preferImmediatelyAvailableCredentials});return V(Oa(a,b)).then(function(a){a=G(a);return Ua.success(za(a))})["catch"](function(a){return xa(a,Ua.error,b)})}},{key:"isWebAuthnSupported",value:function(a){return ma(a)}},{key:"shouldEnableEnrollment",value:function(){return Ja()}},{key:"setPasskeyEligibilityCookie",
value:function(a){fc(a)}},{key:"addToPasskeyEligibilityCookie",value:function(a,b){sb(a,b)}},{key:"reportDevicePasskeyCapability",value:function(a){Ia(a)}},{key:"getClientCapabilities",value:function(a){return V(sc(a)).then(function(a){return Va.success(a)})["catch"](function(b){return xa(b,Va.error,a)})}}]);return a}()})();ja=ia})();"use strict";L.register("IdentityWebAuthn",function(){return ja})});